<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript笔记 | Wang&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.b2295541.css" as="style"><link rel="preload" href="/assets/js/app.6915d903.js" as="script"><link rel="preload" href="/assets/js/2.8e90d117.js" as="script"><link rel="preload" href="/assets/js/275.1a89dcc7.js" as="script"><link rel="preload" href="/assets/js/3.27710204.js" as="script"><link rel="preload" href="/assets/js/4.c80d45e6.js" as="script"><link rel="prefetch" href="/assets/js/10.3549e23b.js"><link rel="prefetch" href="/assets/js/100.78269847.js"><link rel="prefetch" href="/assets/js/101.4fe04dae.js"><link rel="prefetch" href="/assets/js/102.c0958048.js"><link rel="prefetch" href="/assets/js/103.bc38fb55.js"><link rel="prefetch" href="/assets/js/104.4b0cb448.js"><link rel="prefetch" href="/assets/js/105.7a9cce44.js"><link rel="prefetch" href="/assets/js/106.c129d0c0.js"><link rel="prefetch" href="/assets/js/107.d7e50fc8.js"><link rel="prefetch" href="/assets/js/108.c1f49cd8.js"><link rel="prefetch" href="/assets/js/109.1f92f197.js"><link rel="prefetch" href="/assets/js/11.1bb8837f.js"><link rel="prefetch" href="/assets/js/110.367cbe08.js"><link rel="prefetch" href="/assets/js/111.7a050443.js"><link rel="prefetch" href="/assets/js/112.89bdce6e.js"><link rel="prefetch" href="/assets/js/113.7a19ed6b.js"><link rel="prefetch" href="/assets/js/114.726d9b40.js"><link rel="prefetch" href="/assets/js/115.aa51e0cb.js"><link rel="prefetch" href="/assets/js/116.39d34dc1.js"><link rel="prefetch" href="/assets/js/117.c11d158f.js"><link rel="prefetch" href="/assets/js/118.d720d21c.js"><link rel="prefetch" href="/assets/js/119.ea63eef6.js"><link rel="prefetch" href="/assets/js/12.bea35840.js"><link rel="prefetch" href="/assets/js/120.e798bea8.js"><link rel="prefetch" href="/assets/js/121.b6d45978.js"><link rel="prefetch" href="/assets/js/122.541c1e48.js"><link rel="prefetch" href="/assets/js/123.567a3eb4.js"><link rel="prefetch" href="/assets/js/124.402ad85d.js"><link rel="prefetch" href="/assets/js/125.98ece911.js"><link rel="prefetch" href="/assets/js/126.b6e949fe.js"><link rel="prefetch" href="/assets/js/127.1d0694d2.js"><link rel="prefetch" href="/assets/js/128.4016e995.js"><link rel="prefetch" href="/assets/js/129.73538fa0.js"><link rel="prefetch" href="/assets/js/13.9e458f39.js"><link rel="prefetch" href="/assets/js/130.3e1bd935.js"><link rel="prefetch" href="/assets/js/131.2772db7d.js"><link rel="prefetch" href="/assets/js/132.48b681b7.js"><link rel="prefetch" href="/assets/js/133.7ad80876.js"><link rel="prefetch" href="/assets/js/134.7ac33d7e.js"><link rel="prefetch" href="/assets/js/135.5d66816e.js"><link rel="prefetch" href="/assets/js/136.5e8aca27.js"><link rel="prefetch" href="/assets/js/137.c1a17550.js"><link rel="prefetch" href="/assets/js/138.9720ee8e.js"><link rel="prefetch" href="/assets/js/139.21cf413f.js"><link rel="prefetch" href="/assets/js/14.b0f6913f.js"><link rel="prefetch" href="/assets/js/140.9a5a9dad.js"><link rel="prefetch" href="/assets/js/141.1e44fb37.js"><link rel="prefetch" href="/assets/js/142.4c6b4b17.js"><link rel="prefetch" href="/assets/js/143.bb47779d.js"><link rel="prefetch" href="/assets/js/144.dcbe755f.js"><link rel="prefetch" href="/assets/js/145.1f259e5c.js"><link rel="prefetch" href="/assets/js/146.2470b994.js"><link rel="prefetch" href="/assets/js/147.7b549ab7.js"><link rel="prefetch" href="/assets/js/148.1b4393f3.js"><link rel="prefetch" href="/assets/js/149.8feeff42.js"><link rel="prefetch" href="/assets/js/15.3fbacbd2.js"><link rel="prefetch" href="/assets/js/150.2ffacf16.js"><link rel="prefetch" href="/assets/js/151.f5d7a34f.js"><link rel="prefetch" href="/assets/js/152.c0be9e8b.js"><link rel="prefetch" href="/assets/js/153.5dade6b9.js"><link rel="prefetch" href="/assets/js/154.dc647aa4.js"><link rel="prefetch" href="/assets/js/155.c9d387c4.js"><link rel="prefetch" href="/assets/js/156.81d333e8.js"><link rel="prefetch" href="/assets/js/157.1800a7a6.js"><link rel="prefetch" href="/assets/js/158.1d921210.js"><link rel="prefetch" href="/assets/js/159.a487a48a.js"><link rel="prefetch" href="/assets/js/16.5a3f2594.js"><link rel="prefetch" href="/assets/js/160.1147f14f.js"><link rel="prefetch" href="/assets/js/161.b60295a5.js"><link rel="prefetch" href="/assets/js/162.174ebbd3.js"><link rel="prefetch" href="/assets/js/163.1d3c7faf.js"><link rel="prefetch" href="/assets/js/164.47d888d2.js"><link rel="prefetch" href="/assets/js/165.98583475.js"><link rel="prefetch" href="/assets/js/166.47d0c6b8.js"><link rel="prefetch" href="/assets/js/167.994d4970.js"><link rel="prefetch" href="/assets/js/168.bc930d0b.js"><link rel="prefetch" href="/assets/js/169.6eefae23.js"><link rel="prefetch" href="/assets/js/17.6b5afcf1.js"><link rel="prefetch" href="/assets/js/170.c339090f.js"><link rel="prefetch" href="/assets/js/171.22dc471a.js"><link rel="prefetch" href="/assets/js/172.29f6af70.js"><link rel="prefetch" href="/assets/js/173.182df104.js"><link rel="prefetch" href="/assets/js/174.e2f1e177.js"><link rel="prefetch" href="/assets/js/175.28abb6b5.js"><link rel="prefetch" href="/assets/js/176.804e5d20.js"><link rel="prefetch" href="/assets/js/177.afa1f0b7.js"><link rel="prefetch" href="/assets/js/178.9ad6bc96.js"><link rel="prefetch" href="/assets/js/179.cbed9a41.js"><link rel="prefetch" href="/assets/js/18.c7910943.js"><link rel="prefetch" href="/assets/js/180.62d15561.js"><link rel="prefetch" href="/assets/js/181.e306f1af.js"><link rel="prefetch" href="/assets/js/182.4a590fce.js"><link rel="prefetch" href="/assets/js/183.cc5360c0.js"><link rel="prefetch" href="/assets/js/184.f2c88ebb.js"><link rel="prefetch" href="/assets/js/185.e1c07cdd.js"><link rel="prefetch" href="/assets/js/186.799ff0ea.js"><link rel="prefetch" href="/assets/js/187.428dc5a7.js"><link rel="prefetch" href="/assets/js/188.e95315da.js"><link rel="prefetch" href="/assets/js/189.6727931e.js"><link rel="prefetch" href="/assets/js/19.bf292764.js"><link rel="prefetch" href="/assets/js/190.3b206256.js"><link rel="prefetch" href="/assets/js/191.73b32854.js"><link rel="prefetch" href="/assets/js/192.614566bb.js"><link rel="prefetch" href="/assets/js/193.ec4c41a0.js"><link rel="prefetch" href="/assets/js/194.8621d4c3.js"><link rel="prefetch" href="/assets/js/195.85e0b0bf.js"><link rel="prefetch" href="/assets/js/196.8165f4d0.js"><link rel="prefetch" href="/assets/js/197.666417b5.js"><link rel="prefetch" href="/assets/js/198.ceb30da3.js"><link rel="prefetch" href="/assets/js/199.22cf8a07.js"><link rel="prefetch" href="/assets/js/20.643d0be5.js"><link rel="prefetch" href="/assets/js/200.1ec83804.js"><link rel="prefetch" href="/assets/js/201.8eae931a.js"><link rel="prefetch" href="/assets/js/202.99232992.js"><link rel="prefetch" href="/assets/js/203.9b4d5bf0.js"><link rel="prefetch" href="/assets/js/204.101b195a.js"><link rel="prefetch" href="/assets/js/205.4ed861fc.js"><link rel="prefetch" href="/assets/js/206.e49d7378.js"><link rel="prefetch" href="/assets/js/207.91ff0acf.js"><link rel="prefetch" href="/assets/js/208.ef0fd81f.js"><link rel="prefetch" href="/assets/js/209.4f8d76bf.js"><link rel="prefetch" href="/assets/js/21.16dcc214.js"><link rel="prefetch" href="/assets/js/210.85a212c6.js"><link rel="prefetch" href="/assets/js/211.24a5fbb9.js"><link rel="prefetch" href="/assets/js/212.d8d33b79.js"><link rel="prefetch" href="/assets/js/213.d727d59d.js"><link rel="prefetch" href="/assets/js/214.30f62172.js"><link rel="prefetch" href="/assets/js/215.7d31b00a.js"><link rel="prefetch" href="/assets/js/216.4da0f755.js"><link rel="prefetch" href="/assets/js/217.be7f1b57.js"><link rel="prefetch" href="/assets/js/218.90586b84.js"><link rel="prefetch" href="/assets/js/219.c3de474d.js"><link rel="prefetch" href="/assets/js/22.328f14ff.js"><link rel="prefetch" href="/assets/js/220.edb963c4.js"><link rel="prefetch" href="/assets/js/221.cc88ec51.js"><link rel="prefetch" href="/assets/js/222.c1d11861.js"><link rel="prefetch" href="/assets/js/223.9545955b.js"><link rel="prefetch" href="/assets/js/224.1f96a122.js"><link rel="prefetch" href="/assets/js/225.f57343cf.js"><link rel="prefetch" href="/assets/js/226.6fd16254.js"><link rel="prefetch" href="/assets/js/227.e0e63c39.js"><link rel="prefetch" href="/assets/js/228.15181a4d.js"><link rel="prefetch" href="/assets/js/229.4bae3464.js"><link rel="prefetch" href="/assets/js/23.35a2f36a.js"><link rel="prefetch" href="/assets/js/230.0a69799e.js"><link rel="prefetch" href="/assets/js/231.12880cbe.js"><link rel="prefetch" href="/assets/js/232.997afff7.js"><link rel="prefetch" href="/assets/js/233.7f182e24.js"><link rel="prefetch" href="/assets/js/234.c6a0ad74.js"><link rel="prefetch" href="/assets/js/235.723b72f1.js"><link rel="prefetch" href="/assets/js/236.2efa0e66.js"><link rel="prefetch" href="/assets/js/237.75c24329.js"><link rel="prefetch" href="/assets/js/238.1f191ae3.js"><link rel="prefetch" href="/assets/js/239.57206e17.js"><link rel="prefetch" href="/assets/js/24.f1e3f0e5.js"><link rel="prefetch" href="/assets/js/240.5d86f1d2.js"><link rel="prefetch" href="/assets/js/241.7dda4db3.js"><link rel="prefetch" href="/assets/js/242.491d1b9d.js"><link rel="prefetch" href="/assets/js/243.8754af1d.js"><link rel="prefetch" href="/assets/js/244.7dc29f9d.js"><link rel="prefetch" href="/assets/js/245.812b8ead.js"><link rel="prefetch" href="/assets/js/246.9e324cf0.js"><link rel="prefetch" href="/assets/js/247.d220e827.js"><link rel="prefetch" href="/assets/js/248.cf4eab24.js"><link rel="prefetch" href="/assets/js/249.d360d621.js"><link rel="prefetch" href="/assets/js/25.556b5e2a.js"><link rel="prefetch" href="/assets/js/250.92362422.js"><link rel="prefetch" href="/assets/js/251.f50b765d.js"><link rel="prefetch" href="/assets/js/252.0e1a366a.js"><link rel="prefetch" href="/assets/js/253.edc872e3.js"><link rel="prefetch" href="/assets/js/254.4bd8d561.js"><link rel="prefetch" href="/assets/js/255.e4bbd5fb.js"><link rel="prefetch" href="/assets/js/256.34b106c4.js"><link rel="prefetch" href="/assets/js/257.72d79494.js"><link rel="prefetch" href="/assets/js/258.d0248bf0.js"><link rel="prefetch" href="/assets/js/259.1763ac13.js"><link rel="prefetch" href="/assets/js/26.1046ae89.js"><link rel="prefetch" href="/assets/js/260.1f5f5cf3.js"><link rel="prefetch" href="/assets/js/261.ff4c45e6.js"><link rel="prefetch" href="/assets/js/262.64e232f5.js"><link rel="prefetch" href="/assets/js/263.379940ee.js"><link rel="prefetch" href="/assets/js/264.45558209.js"><link rel="prefetch" href="/assets/js/265.58671010.js"><link rel="prefetch" href="/assets/js/266.be7907ad.js"><link rel="prefetch" href="/assets/js/267.a719117f.js"><link rel="prefetch" href="/assets/js/268.152c975c.js"><link rel="prefetch" href="/assets/js/269.d9f073de.js"><link rel="prefetch" href="/assets/js/27.00726afc.js"><link rel="prefetch" href="/assets/js/270.fcee655a.js"><link rel="prefetch" href="/assets/js/271.c778b461.js"><link rel="prefetch" href="/assets/js/272.93cff1ec.js"><link rel="prefetch" href="/assets/js/273.a37a1029.js"><link rel="prefetch" href="/assets/js/274.067547e0.js"><link rel="prefetch" href="/assets/js/276.aa54988e.js"><link rel="prefetch" href="/assets/js/277.6ccc2704.js"><link rel="prefetch" href="/assets/js/278.ae637f63.js"><link rel="prefetch" href="/assets/js/279.4528c02c.js"><link rel="prefetch" href="/assets/js/28.89f85649.js"><link rel="prefetch" href="/assets/js/280.0237c7ae.js"><link rel="prefetch" href="/assets/js/281.7c75082a.js"><link rel="prefetch" href="/assets/js/282.2e85c9c4.js"><link rel="prefetch" href="/assets/js/283.a7d506fb.js"><link rel="prefetch" href="/assets/js/284.470f94c9.js"><link rel="prefetch" href="/assets/js/285.33b142ae.js"><link rel="prefetch" href="/assets/js/286.dca5f86a.js"><link rel="prefetch" href="/assets/js/287.af5d55c3.js"><link rel="prefetch" href="/assets/js/288.24d9e6b9.js"><link rel="prefetch" href="/assets/js/289.21e436d3.js"><link rel="prefetch" href="/assets/js/29.75feb1b2.js"><link rel="prefetch" href="/assets/js/290.3816121d.js"><link rel="prefetch" href="/assets/js/291.95b0b11d.js"><link rel="prefetch" href="/assets/js/292.16950ee9.js"><link rel="prefetch" href="/assets/js/293.8f2098ef.js"><link rel="prefetch" href="/assets/js/294.8ce274ec.js"><link rel="prefetch" href="/assets/js/295.3b68b50d.js"><link rel="prefetch" href="/assets/js/296.72289934.js"><link rel="prefetch" href="/assets/js/297.cd66451f.js"><link rel="prefetch" href="/assets/js/298.73b9af02.js"><link rel="prefetch" href="/assets/js/299.a75f9bfa.js"><link rel="prefetch" href="/assets/js/30.7ec36091.js"><link rel="prefetch" href="/assets/js/300.40633938.js"><link rel="prefetch" href="/assets/js/301.75846932.js"><link rel="prefetch" href="/assets/js/302.d7176bc7.js"><link rel="prefetch" href="/assets/js/303.d89ec164.js"><link rel="prefetch" href="/assets/js/304.73dc1c84.js"><link rel="prefetch" href="/assets/js/305.218e6850.js"><link rel="prefetch" href="/assets/js/306.945153a8.js"><link rel="prefetch" href="/assets/js/307.3bf20133.js"><link rel="prefetch" href="/assets/js/308.3bef921d.js"><link rel="prefetch" href="/assets/js/309.7d2f1492.js"><link rel="prefetch" href="/assets/js/31.a3e666f9.js"><link rel="prefetch" href="/assets/js/310.afc9f1d5.js"><link rel="prefetch" href="/assets/js/311.61d30b33.js"><link rel="prefetch" href="/assets/js/312.687b4ed2.js"><link rel="prefetch" href="/assets/js/313.a095ca27.js"><link rel="prefetch" href="/assets/js/314.d635809f.js"><link rel="prefetch" href="/assets/js/315.647335e0.js"><link rel="prefetch" href="/assets/js/316.bd5d637b.js"><link rel="prefetch" href="/assets/js/317.b4985529.js"><link rel="prefetch" href="/assets/js/318.78446057.js"><link rel="prefetch" href="/assets/js/319.799bf3b1.js"><link rel="prefetch" href="/assets/js/32.7ab37d8f.js"><link rel="prefetch" href="/assets/js/320.fde3153c.js"><link rel="prefetch" href="/assets/js/321.d723d7d1.js"><link rel="prefetch" href="/assets/js/322.ffd9f213.js"><link rel="prefetch" href="/assets/js/323.8ed57e5d.js"><link rel="prefetch" href="/assets/js/324.169191c0.js"><link rel="prefetch" href="/assets/js/325.6cb248d5.js"><link rel="prefetch" href="/assets/js/326.eaac485d.js"><link rel="prefetch" href="/assets/js/327.dc0f47bc.js"><link rel="prefetch" href="/assets/js/328.544d45fa.js"><link rel="prefetch" href="/assets/js/329.fec61386.js"><link rel="prefetch" href="/assets/js/33.9f3c0d14.js"><link rel="prefetch" href="/assets/js/330.1f33b06d.js"><link rel="prefetch" href="/assets/js/331.eb73ee8f.js"><link rel="prefetch" href="/assets/js/332.c1cdb2d2.js"><link rel="prefetch" href="/assets/js/333.f57707bc.js"><link rel="prefetch" href="/assets/js/334.21798ba3.js"><link rel="prefetch" href="/assets/js/335.7552bcc9.js"><link rel="prefetch" href="/assets/js/336.712c9469.js"><link rel="prefetch" href="/assets/js/337.be17f41b.js"><link rel="prefetch" href="/assets/js/338.008e506f.js"><link rel="prefetch" href="/assets/js/339.2f4e1fcf.js"><link rel="prefetch" href="/assets/js/34.02e48e70.js"><link rel="prefetch" href="/assets/js/340.e83dc6f2.js"><link rel="prefetch" href="/assets/js/341.5dd93ab7.js"><link rel="prefetch" href="/assets/js/342.a51878d5.js"><link rel="prefetch" href="/assets/js/343.c28a7c50.js"><link rel="prefetch" href="/assets/js/344.6287fc1d.js"><link rel="prefetch" href="/assets/js/345.2befd3b9.js"><link rel="prefetch" href="/assets/js/346.269a3f0d.js"><link rel="prefetch" href="/assets/js/347.491772b2.js"><link rel="prefetch" href="/assets/js/348.f5b6df5c.js"><link rel="prefetch" href="/assets/js/349.3f6b74b7.js"><link rel="prefetch" href="/assets/js/35.5ac912b9.js"><link rel="prefetch" href="/assets/js/350.f04e7414.js"><link rel="prefetch" href="/assets/js/351.41acb2ac.js"><link rel="prefetch" href="/assets/js/352.f1fd5600.js"><link rel="prefetch" href="/assets/js/353.33993c89.js"><link rel="prefetch" href="/assets/js/354.3f589f07.js"><link rel="prefetch" href="/assets/js/355.45286d9c.js"><link rel="prefetch" href="/assets/js/356.018ef2b8.js"><link rel="prefetch" href="/assets/js/357.0e47721b.js"><link rel="prefetch" href="/assets/js/358.e43a6fa4.js"><link rel="prefetch" href="/assets/js/359.40e7a1af.js"><link rel="prefetch" href="/assets/js/36.51fb4b20.js"><link rel="prefetch" href="/assets/js/360.a5819caf.js"><link rel="prefetch" href="/assets/js/361.b46e0a59.js"><link rel="prefetch" href="/assets/js/362.275b50ce.js"><link rel="prefetch" href="/assets/js/363.f4190cfe.js"><link rel="prefetch" href="/assets/js/364.2356f3ce.js"><link rel="prefetch" href="/assets/js/365.cddf10be.js"><link rel="prefetch" href="/assets/js/366.06e20077.js"><link rel="prefetch" href="/assets/js/367.831069d2.js"><link rel="prefetch" href="/assets/js/368.d2a78377.js"><link rel="prefetch" href="/assets/js/369.d6818f22.js"><link rel="prefetch" href="/assets/js/37.7f3622ee.js"><link rel="prefetch" href="/assets/js/370.39bd3e8d.js"><link rel="prefetch" href="/assets/js/371.fbb424b1.js"><link rel="prefetch" href="/assets/js/372.bb9868a0.js"><link rel="prefetch" href="/assets/js/373.c50a0787.js"><link rel="prefetch" href="/assets/js/374.08f93596.js"><link rel="prefetch" href="/assets/js/375.7eaf59b8.js"><link rel="prefetch" href="/assets/js/376.8ba36dc3.js"><link rel="prefetch" href="/assets/js/377.e1cd8ed6.js"><link rel="prefetch" href="/assets/js/378.1a711914.js"><link rel="prefetch" href="/assets/js/379.cd23a83e.js"><link rel="prefetch" href="/assets/js/38.9d584cf3.js"><link rel="prefetch" href="/assets/js/380.d640f265.js"><link rel="prefetch" href="/assets/js/381.b06216b8.js"><link rel="prefetch" href="/assets/js/382.3b7cd2de.js"><link rel="prefetch" href="/assets/js/383.394976a0.js"><link rel="prefetch" href="/assets/js/384.dd01c33b.js"><link rel="prefetch" href="/assets/js/385.4e9c3563.js"><link rel="prefetch" href="/assets/js/386.32ade0d9.js"><link rel="prefetch" href="/assets/js/387.6040ef2b.js"><link rel="prefetch" href="/assets/js/388.ee00ea0a.js"><link rel="prefetch" href="/assets/js/389.cfb52a45.js"><link rel="prefetch" href="/assets/js/39.a9c22066.js"><link rel="prefetch" href="/assets/js/390.47c99571.js"><link rel="prefetch" href="/assets/js/391.ee9e6371.js"><link rel="prefetch" href="/assets/js/392.2c2b24ac.js"><link rel="prefetch" href="/assets/js/393.cc56458f.js"><link rel="prefetch" href="/assets/js/394.123b2256.js"><link rel="prefetch" href="/assets/js/395.2fa87e1a.js"><link rel="prefetch" href="/assets/js/396.19e44c31.js"><link rel="prefetch" href="/assets/js/397.3a9b5e84.js"><link rel="prefetch" href="/assets/js/398.8ec31dbf.js"><link rel="prefetch" href="/assets/js/399.de8865e4.js"><link rel="prefetch" href="/assets/js/40.4b5e869e.js"><link rel="prefetch" href="/assets/js/400.a9bc335e.js"><link rel="prefetch" href="/assets/js/401.0584f10f.js"><link rel="prefetch" href="/assets/js/402.5df0483d.js"><link rel="prefetch" href="/assets/js/403.68e90895.js"><link rel="prefetch" href="/assets/js/404.bf175c73.js"><link rel="prefetch" href="/assets/js/405.1eaf5955.js"><link rel="prefetch" href="/assets/js/406.94a1963e.js"><link rel="prefetch" href="/assets/js/407.8aa9b0f3.js"><link rel="prefetch" href="/assets/js/408.7ffba5d4.js"><link rel="prefetch" href="/assets/js/409.8717a97f.js"><link rel="prefetch" href="/assets/js/41.d6bbca8b.js"><link rel="prefetch" href="/assets/js/410.98528deb.js"><link rel="prefetch" href="/assets/js/411.5f55dc07.js"><link rel="prefetch" href="/assets/js/412.7175d6c8.js"><link rel="prefetch" href="/assets/js/413.ed822ce4.js"><link rel="prefetch" href="/assets/js/414.f68cdded.js"><link rel="prefetch" href="/assets/js/415.0a082889.js"><link rel="prefetch" href="/assets/js/416.419cbdd5.js"><link rel="prefetch" href="/assets/js/417.048cfd8a.js"><link rel="prefetch" href="/assets/js/418.3b9f7b33.js"><link rel="prefetch" href="/assets/js/419.aed2e689.js"><link rel="prefetch" href="/assets/js/42.83582883.js"><link rel="prefetch" href="/assets/js/420.ca265ce3.js"><link rel="prefetch" href="/assets/js/421.90c98146.js"><link rel="prefetch" href="/assets/js/422.4930e5f2.js"><link rel="prefetch" href="/assets/js/423.7dc06a95.js"><link rel="prefetch" href="/assets/js/424.1b14c7d3.js"><link rel="prefetch" href="/assets/js/425.62998f54.js"><link rel="prefetch" href="/assets/js/426.34cee684.js"><link rel="prefetch" href="/assets/js/427.2e816aaf.js"><link rel="prefetch" href="/assets/js/428.17fbad32.js"><link rel="prefetch" href="/assets/js/429.42bbee17.js"><link rel="prefetch" href="/assets/js/43.313f8d6c.js"><link rel="prefetch" href="/assets/js/430.3edabdd7.js"><link rel="prefetch" href="/assets/js/431.8f3b0df2.js"><link rel="prefetch" href="/assets/js/432.39d69269.js"><link rel="prefetch" href="/assets/js/433.e74b5b2a.js"><link rel="prefetch" href="/assets/js/434.6fae9df6.js"><link rel="prefetch" href="/assets/js/435.cf3b8ef3.js"><link rel="prefetch" href="/assets/js/436.7e61ae77.js"><link rel="prefetch" href="/assets/js/437.944d4230.js"><link rel="prefetch" href="/assets/js/438.07d41584.js"><link rel="prefetch" href="/assets/js/439.79b9611f.js"><link rel="prefetch" href="/assets/js/44.c9fd6dee.js"><link rel="prefetch" href="/assets/js/440.f56aade1.js"><link rel="prefetch" href="/assets/js/441.7eaa7dc3.js"><link rel="prefetch" href="/assets/js/442.be858b15.js"><link rel="prefetch" href="/assets/js/443.309d8a40.js"><link rel="prefetch" href="/assets/js/444.e6eef576.js"><link rel="prefetch" href="/assets/js/445.688ef686.js"><link rel="prefetch" href="/assets/js/446.d00b15f2.js"><link rel="prefetch" href="/assets/js/447.0e015c31.js"><link rel="prefetch" href="/assets/js/448.3b08dadb.js"><link rel="prefetch" href="/assets/js/449.8863bed5.js"><link rel="prefetch" href="/assets/js/45.978be9d8.js"><link rel="prefetch" href="/assets/js/450.d58a56fb.js"><link rel="prefetch" href="/assets/js/451.f7e924bc.js"><link rel="prefetch" href="/assets/js/452.0aac3056.js"><link rel="prefetch" href="/assets/js/453.c755a264.js"><link rel="prefetch" href="/assets/js/454.58e6edbe.js"><link rel="prefetch" href="/assets/js/455.f00472d2.js"><link rel="prefetch" href="/assets/js/456.102d4ec3.js"><link rel="prefetch" href="/assets/js/457.26a3a40d.js"><link rel="prefetch" href="/assets/js/458.3ae6f79c.js"><link rel="prefetch" href="/assets/js/459.344ff0f0.js"><link rel="prefetch" href="/assets/js/46.1c34e285.js"><link rel="prefetch" href="/assets/js/460.8c1831f2.js"><link rel="prefetch" href="/assets/js/461.6853af1b.js"><link rel="prefetch" href="/assets/js/462.1ee79bfa.js"><link rel="prefetch" href="/assets/js/463.00bb1fc4.js"><link rel="prefetch" href="/assets/js/464.8aa11e47.js"><link rel="prefetch" href="/assets/js/465.81a97200.js"><link rel="prefetch" href="/assets/js/466.ab2fc64f.js"><link rel="prefetch" href="/assets/js/467.60a388ea.js"><link rel="prefetch" href="/assets/js/468.aada0119.js"><link rel="prefetch" href="/assets/js/469.ea0b8749.js"><link rel="prefetch" href="/assets/js/47.e4a9b10f.js"><link rel="prefetch" href="/assets/js/470.0e4c8ee9.js"><link rel="prefetch" href="/assets/js/471.60a46883.js"><link rel="prefetch" href="/assets/js/472.e4fbcabc.js"><link rel="prefetch" href="/assets/js/473.e3662abd.js"><link rel="prefetch" href="/assets/js/474.f5a93a48.js"><link rel="prefetch" href="/assets/js/475.a3bebf68.js"><link rel="prefetch" href="/assets/js/476.80690884.js"><link rel="prefetch" href="/assets/js/477.e348b762.js"><link rel="prefetch" href="/assets/js/478.6ce6ce7e.js"><link rel="prefetch" href="/assets/js/479.de16f2a8.js"><link rel="prefetch" href="/assets/js/48.58731b43.js"><link rel="prefetch" href="/assets/js/480.a1e49433.js"><link rel="prefetch" href="/assets/js/481.e5fec021.js"><link rel="prefetch" href="/assets/js/482.0f19a78c.js"><link rel="prefetch" href="/assets/js/483.1eb11ed5.js"><link rel="prefetch" href="/assets/js/484.fd0dd676.js"><link rel="prefetch" href="/assets/js/485.bee5f658.js"><link rel="prefetch" href="/assets/js/486.131dd708.js"><link rel="prefetch" href="/assets/js/487.95882038.js"><link rel="prefetch" href="/assets/js/488.4762e33f.js"><link rel="prefetch" href="/assets/js/489.be18931b.js"><link rel="prefetch" href="/assets/js/49.63cc0a33.js"><link rel="prefetch" href="/assets/js/490.410000fb.js"><link rel="prefetch" href="/assets/js/491.ccc49bbb.js"><link rel="prefetch" href="/assets/js/492.0a4952b4.js"><link rel="prefetch" href="/assets/js/493.7f9b39e3.js"><link rel="prefetch" href="/assets/js/494.c15bb487.js"><link rel="prefetch" href="/assets/js/495.57129d00.js"><link rel="prefetch" href="/assets/js/496.4c590e7c.js"><link rel="prefetch" href="/assets/js/497.a351f9f0.js"><link rel="prefetch" href="/assets/js/498.457c49c2.js"><link rel="prefetch" href="/assets/js/499.410986f0.js"><link rel="prefetch" href="/assets/js/5.ebd35a63.js"><link rel="prefetch" href="/assets/js/50.def16f6e.js"><link rel="prefetch" href="/assets/js/500.ecbb6b32.js"><link rel="prefetch" href="/assets/js/501.67d6c4fd.js"><link rel="prefetch" href="/assets/js/502.b181433f.js"><link rel="prefetch" href="/assets/js/503.02d8c915.js"><link rel="prefetch" href="/assets/js/504.a0b9d7d6.js"><link rel="prefetch" href="/assets/js/505.e8ed8669.js"><link rel="prefetch" href="/assets/js/506.b6569e1b.js"><link rel="prefetch" href="/assets/js/507.8c23899e.js"><link rel="prefetch" href="/assets/js/508.a1a0eb0e.js"><link rel="prefetch" href="/assets/js/509.62788ef4.js"><link rel="prefetch" href="/assets/js/51.a712fdd8.js"><link rel="prefetch" href="/assets/js/510.54f19f37.js"><link rel="prefetch" href="/assets/js/511.d0e291a5.js"><link rel="prefetch" href="/assets/js/512.ca683f89.js"><link rel="prefetch" href="/assets/js/513.86fe71d7.js"><link rel="prefetch" href="/assets/js/514.9e4c87ff.js"><link rel="prefetch" href="/assets/js/515.e437c340.js"><link rel="prefetch" href="/assets/js/516.a24dacfc.js"><link rel="prefetch" href="/assets/js/517.5afb0e72.js"><link rel="prefetch" href="/assets/js/518.bc6092f0.js"><link rel="prefetch" href="/assets/js/519.d12b1e14.js"><link rel="prefetch" href="/assets/js/52.35f06f69.js"><link rel="prefetch" href="/assets/js/520.c999e3e6.js"><link rel="prefetch" href="/assets/js/521.a6248f81.js"><link rel="prefetch" href="/assets/js/522.4e20b9a7.js"><link rel="prefetch" href="/assets/js/523.3941378b.js"><link rel="prefetch" href="/assets/js/524.00af4bea.js"><link rel="prefetch" href="/assets/js/525.f5bede32.js"><link rel="prefetch" href="/assets/js/526.36ba52ba.js"><link rel="prefetch" href="/assets/js/527.3a33d7cc.js"><link rel="prefetch" href="/assets/js/528.0238c412.js"><link rel="prefetch" href="/assets/js/529.e335d9cc.js"><link rel="prefetch" href="/assets/js/53.852fb426.js"><link rel="prefetch" href="/assets/js/530.81fdab5d.js"><link rel="prefetch" href="/assets/js/531.ee714df7.js"><link rel="prefetch" href="/assets/js/532.733a66a5.js"><link rel="prefetch" href="/assets/js/533.1b5d3171.js"><link rel="prefetch" href="/assets/js/534.986880c4.js"><link rel="prefetch" href="/assets/js/535.e76f773a.js"><link rel="prefetch" href="/assets/js/536.7c3ab25f.js"><link rel="prefetch" href="/assets/js/537.ea1d93cd.js"><link rel="prefetch" href="/assets/js/538.96801819.js"><link rel="prefetch" href="/assets/js/539.e9853fca.js"><link rel="prefetch" href="/assets/js/54.4b09d4b5.js"><link rel="prefetch" href="/assets/js/540.a56557b4.js"><link rel="prefetch" href="/assets/js/541.01404ebb.js"><link rel="prefetch" href="/assets/js/542.b1cdb82d.js"><link rel="prefetch" href="/assets/js/543.68cdc0d4.js"><link rel="prefetch" href="/assets/js/544.5986a75d.js"><link rel="prefetch" href="/assets/js/545.1ca6be09.js"><link rel="prefetch" href="/assets/js/546.faac6f8c.js"><link rel="prefetch" href="/assets/js/547.16a207b0.js"><link rel="prefetch" href="/assets/js/548.522127ab.js"><link rel="prefetch" href="/assets/js/549.e1d461e9.js"><link rel="prefetch" href="/assets/js/55.7019ecf8.js"><link rel="prefetch" href="/assets/js/550.c664e841.js"><link rel="prefetch" href="/assets/js/551.3c6f62ae.js"><link rel="prefetch" href="/assets/js/552.93f291da.js"><link rel="prefetch" href="/assets/js/553.f0b146b8.js"><link rel="prefetch" href="/assets/js/554.4945f8ac.js"><link rel="prefetch" href="/assets/js/555.b5c2d768.js"><link rel="prefetch" href="/assets/js/556.caf02639.js"><link rel="prefetch" href="/assets/js/557.bd8283ee.js"><link rel="prefetch" href="/assets/js/558.b00db076.js"><link rel="prefetch" href="/assets/js/559.31af0421.js"><link rel="prefetch" href="/assets/js/56.d0124ba8.js"><link rel="prefetch" href="/assets/js/560.ee73a066.js"><link rel="prefetch" href="/assets/js/561.a9921da7.js"><link rel="prefetch" href="/assets/js/562.df0815e2.js"><link rel="prefetch" href="/assets/js/563.335189fb.js"><link rel="prefetch" href="/assets/js/564.a7550bd5.js"><link rel="prefetch" href="/assets/js/565.0cc8e5c1.js"><link rel="prefetch" href="/assets/js/566.437e0066.js"><link rel="prefetch" href="/assets/js/567.feeb46b3.js"><link rel="prefetch" href="/assets/js/568.38274884.js"><link rel="prefetch" href="/assets/js/569.38daf860.js"><link rel="prefetch" href="/assets/js/57.b88bbbc6.js"><link rel="prefetch" href="/assets/js/570.ba178df4.js"><link rel="prefetch" href="/assets/js/571.7394e52d.js"><link rel="prefetch" href="/assets/js/572.cef70e28.js"><link rel="prefetch" href="/assets/js/573.c9df429c.js"><link rel="prefetch" href="/assets/js/574.bb6d86e2.js"><link rel="prefetch" href="/assets/js/575.f832789b.js"><link rel="prefetch" href="/assets/js/576.cbbdc66e.js"><link rel="prefetch" href="/assets/js/577.54cc7bc8.js"><link rel="prefetch" href="/assets/js/58.6184e171.js"><link rel="prefetch" href="/assets/js/59.0322e74a.js"><link rel="prefetch" href="/assets/js/6.0482f328.js"><link rel="prefetch" href="/assets/js/60.159a10c7.js"><link rel="prefetch" href="/assets/js/61.b5c7164c.js"><link rel="prefetch" href="/assets/js/62.4e6faf29.js"><link rel="prefetch" href="/assets/js/63.bf26d93e.js"><link rel="prefetch" href="/assets/js/64.19729b10.js"><link rel="prefetch" href="/assets/js/65.ee57ecff.js"><link rel="prefetch" href="/assets/js/66.3136f52b.js"><link rel="prefetch" href="/assets/js/67.370982de.js"><link rel="prefetch" href="/assets/js/68.12b3736a.js"><link rel="prefetch" href="/assets/js/69.53321d03.js"><link rel="prefetch" href="/assets/js/7.ad01ad16.js"><link rel="prefetch" href="/assets/js/70.cf6a3c7f.js"><link rel="prefetch" href="/assets/js/71.ff54bd0e.js"><link rel="prefetch" href="/assets/js/72.e677dc8b.js"><link rel="prefetch" href="/assets/js/73.cca15ed5.js"><link rel="prefetch" href="/assets/js/74.2d9b363b.js"><link rel="prefetch" href="/assets/js/75.92307b06.js"><link rel="prefetch" href="/assets/js/76.f7a43c89.js"><link rel="prefetch" href="/assets/js/77.80d50530.js"><link rel="prefetch" href="/assets/js/78.d67cd43a.js"><link rel="prefetch" href="/assets/js/79.655016da.js"><link rel="prefetch" href="/assets/js/8.d915ea5e.js"><link rel="prefetch" href="/assets/js/80.883082e0.js"><link rel="prefetch" href="/assets/js/81.2b2ec03d.js"><link rel="prefetch" href="/assets/js/82.ae974dcf.js"><link rel="prefetch" href="/assets/js/83.0bedf477.js"><link rel="prefetch" href="/assets/js/84.d11c962c.js"><link rel="prefetch" href="/assets/js/85.14b5a35c.js"><link rel="prefetch" href="/assets/js/86.7f3852a3.js"><link rel="prefetch" href="/assets/js/87.47712c68.js"><link rel="prefetch" href="/assets/js/88.b58541c4.js"><link rel="prefetch" href="/assets/js/89.da9fbc49.js"><link rel="prefetch" href="/assets/js/9.64dfa4ea.js"><link rel="prefetch" href="/assets/js/90.669497ac.js"><link rel="prefetch" href="/assets/js/91.0f4251a3.js"><link rel="prefetch" href="/assets/js/92.097267f1.js"><link rel="prefetch" href="/assets/js/93.13b854c3.js"><link rel="prefetch" href="/assets/js/94.dcf70662.js"><link rel="prefetch" href="/assets/js/95.c99e26de.js"><link rel="prefetch" href="/assets/js/96.6009fd15.js"><link rel="prefetch" href="/assets/js/97.f025e5c0.js"><link rel="prefetch" href="/assets/js/98.8304886e.js"><link rel="prefetch" href="/assets/js/99.586be002.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b2295541.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Wang's blog" class="logo"> <span class="site-name can-hide">Wang's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/html/" class="nav-link">HTML教程</a></li><li class="dropdown-subitem"><a href="/web/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/web/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>前端框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/web/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/web/vuepress/" class="nav-link">VuePress</a></li><li class="dropdown-subitem"><a href="/web/electron/" class="nav-link">Electron</a></li></ul></li><li class="dropdown-item"><h4>后端技术</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/npm/" class="nav-link">Npm</a></li><li class="dropdown-subitem"><a href="/web/node/" class="nav-link">Node</a></li><li class="dropdown-subitem"><a href="/web/typescript/" class="nav-link">TypeScript</a></li></ul></li><li class="dropdown-item"><h4>编程规范</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/standard/" class="nav-link">规范</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><a href="/note/" class="link-title">笔记</a> <span class="title" style="display:none;">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/mynote/" class="nav-link">我的笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tool/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/tool/github/" class="nav-link">GitHub</a></li><li class="dropdown-item"><!----> <a href="/tool/vscode/" class="nav-link">VSCode</a></li><li class="dropdown-item"><!----> <a href="/tool/mactool/" class="nav-link">Mac工具</a></li><li class="dropdown-item"><!----> <a href="/tool/data/" class="nav-link">数据库</a></li><li class="dropdown-item"><!----> <a href="/tool/google/" class="nav-link">Google</a></li><li class="dropdown-item"><!----> <a href="/tool/net/" class="nav-link">服务器</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="教程" class="dropdown-title"><a href="/course/" class="link-title">教程</a> <span class="title" style="display:none;">教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/course/mycourse/" class="nav-link">Python爬虫</a></li><li class="dropdown-item"><!----> <a href="/course/myjs/" class="nav-link">前端教程</a></li></ul></div></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/collection/" class="nav-link">收藏</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/wangmings" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/user.png"> <div class="blogger-info"><h3>Wang Mings</h3> <span>跟随大神，成为大神!</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/html/" class="nav-link">HTML教程</a></li><li class="dropdown-subitem"><a href="/web/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/web/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>前端框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/web/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/web/vuepress/" class="nav-link">VuePress</a></li><li class="dropdown-subitem"><a href="/web/electron/" class="nav-link">Electron</a></li></ul></li><li class="dropdown-item"><h4>后端技术</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/npm/" class="nav-link">Npm</a></li><li class="dropdown-subitem"><a href="/web/node/" class="nav-link">Node</a></li><li class="dropdown-subitem"><a href="/web/typescript/" class="nav-link">TypeScript</a></li></ul></li><li class="dropdown-item"><h4>编程规范</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/standard/" class="nav-link">规范</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><a href="/note/" class="link-title">笔记</a> <span class="title" style="display:none;">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/mynote/" class="nav-link">我的笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tool/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/tool/github/" class="nav-link">GitHub</a></li><li class="dropdown-item"><!----> <a href="/tool/vscode/" class="nav-link">VSCode</a></li><li class="dropdown-item"><!----> <a href="/tool/mactool/" class="nav-link">Mac工具</a></li><li class="dropdown-item"><!----> <a href="/tool/data/" class="nav-link">数据库</a></li><li class="dropdown-item"><!----> <a href="/tool/google/" class="nav-link">Google</a></li><li class="dropdown-item"><!----> <a href="/tool/net/" class="nav-link">服务器</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="教程" class="dropdown-title"><a href="/course/" class="link-title">教程</a> <span class="title" style="display:none;">教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/course/mycourse/" class="nav-link">Python爬虫</a></li><li class="dropdown-item"><!----> <a href="/course/myjs/" class="nav-link">前端教程</a></li></ul></div></div><div class="nav-item"><a href="/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/collection/" class="nav-link">收藏</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/wangmings" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/note/mynote/" class="sidebar-link">git命令使用</a></li><li><a href="/pages/530f8f/" class="sidebar-link">nodejs如何同时支持import和require</a></li><li><a href="/pages/b8ff66/" class="sidebar-link">nodejs使用说明</a></li><li><a href="/pages/5bdea9/" class="sidebar-link">Electron跨平台开发笔记</a></li><li><a href="/pages/a96235/" aria-current="page" class="active sidebar-link">JavaScript笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/a96235/#html标签" class="sidebar-link">HTML标签</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#标签里添加空格" class="sidebar-link">标签里添加空格</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js文档参考" class="sidebar-link">JS文档参考</a></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js操作网页dom节点" class="sidebar-link">JS操作网页DOM节点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js动态-添加-移除-节点的class" class="sidebar-link">JS动态/添加/移除/节点的Class</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js动态创建节点" class="sidebar-link">JS动态创建节点</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js运行平台" class="sidebar-link">JS运行平台</a></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js游览器本地存储" class="sidebar-link">JS游览器本地存储</a></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js还原被重写的对象" class="sidebar-link">JS还原被重写的对象</a></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js函数或变量定义" class="sidebar-link">JS函数或变量定义</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js函数中的变量定义" class="sidebar-link">JS函数中的变量定义</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js的new关键字构建对象和类class" class="sidebar-link">JS的new关键字构建对象和类class</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js初始化对象new关键字" class="sidebar-link">JS初始化对象new关键字</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js对象的-prototype-constructor-proto-说明" class="sidebar-link">JS对象的 prototype/constructor/proto 说明</a></li><li class="sidebar-sub-header level4"><a href="/pages/a96235/#prototype原型对象" class="sidebar-link">prototype原型对象</a></li><li class="sidebar-sub-header level4"><a href="/pages/a96235/#constructor指针对象" class="sidebar-link">constructor指针对象</a></li><li class="sidebar-sub-header level4"><a href="/pages/a96235/#proto指针对象" class="sidebar-link">proto指针对象</a></li><li class="sidebar-sub-header level4"><a href="/pages/a96235/#prototype-class创建类对比" class="sidebar-link">prototype/class创建类对比</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js类定义" class="sidebar-link">JS类定义</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#创建类" class="sidebar-link">创建类</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#类继承" class="sidebar-link">类继承</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#子类继承父类属性方法" class="sidebar-link">子类继承父类属性方法</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js文件操作" class="sidebar-link">JS文件操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#filereader对象方法" class="sidebar-link">FileReader对象方法</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#filereader对象事件" class="sidebar-link">FileReader对象事件</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#filereader使用示例" class="sidebar-link">FileReader使用示例</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js文本数据相互转换加解码" class="sidebar-link">JS文本数据相互转换加解码</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js对象操作" class="sidebar-link">JS对象操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js对象合并" class="sidebar-link">JS对象合并</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js数据类型判断" class="sidebar-link">JS数据类型判断</a></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js数组操作" class="sidebar-link">JS数组操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js统计数组中元素重复次数" class="sidebar-link">JS统计数组中元素重复次数</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js获取数组第几到第几元素" class="sidebar-link">JS获取数组第几到第几元素</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js数组元素删除添加" class="sidebar-link">JS数组元素删除添加</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js数组分割" class="sidebar-link">JS数组分割</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js字符串操作" class="sidebar-link">JS字符串操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js字符串大小写转换" class="sidebar-link">JS字符串大小写转换</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js去除字符串首尾空格" class="sidebar-link">JS去除字符串首尾空格</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#js字符串查找匹配" class="sidebar-link">JS字符串查找匹配</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js异步回调" class="sidebar-link">JS异步回调</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#使用异步回调说明" class="sidebar-link">使用异步回调说明</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#使用promise对象回调结果" class="sidebar-link">使用Promise对象回调结果</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#使用async-await配合promise实现回调" class="sidebar-link">使用Async/Await配合Promise实现回调</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#类里面使用async-await-promise参考" class="sidebar-link">类里面使用async/await/Promise参考</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#url编码" class="sidebar-link">URL编码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#url编码和解码" class="sidebar-link">URL编码和解码</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#http请求" class="sidebar-link">HTTP请求</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#http性能" class="sidebar-link">HTTP性能</a></li><li class="sidebar-sub-header level4"><a href="/pages/a96235/#http1-1" class="sidebar-link">HTTP1.1</a></li><li class="sidebar-sub-header level4"><a href="/pages/a96235/#http2" class="sidebar-link">HTTP2</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#异步请求" class="sidebar-link">异步请求</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#设置请求超时" class="sidebar-link">设置请求超时</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#同步请求" class="sidebar-link">同步请求</a></li><li class="sidebar-sub-header level3"><a href="/pages/a96235/#http请求封装" class="sidebar-link">http请求封装</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a96235/#js性能优化" class="sidebar-link">JS性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a96235/#避免if嵌套造成执行效率低下问题" class="sidebar-link">避免if嵌套造成执行效率低下问题</a></li></ul></li></ul></li><li><a href="/pages/e51faa/" class="sidebar-link">常用的ES5和ES6中对象的导出和导入的差异之处</a></li><li><a href="/pages/496810/" class="sidebar-link">theme-vdoing-blog博客静态编译问题</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/note/#笔记" data-v-06225672>笔记</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/wangmings" target="_blank" title="作者" class="beLink" data-v-06225672>wangmings</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-07-19</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">JavaScript笔记<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="javascript笔记"><a href="#javascript笔记" class="header-anchor">#</a> JavaScript笔记</h1> <h2 id="html标签"><a href="#html标签" class="header-anchor">#</a> HTML标签</h2> <h3 id="标签里添加空格"><a href="#标签里添加空格" class="header-anchor">#</a> 标签里添加空格</h3> <div class="language-HTML line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- HTML --&gt;</span>
<span class="token comment">&lt;!-- &amp;ensp;半个空白符 --&gt;</span>
<span class="token comment">&lt;!-- &amp;emsp;一个空白符 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>hello<span class="token entity named-entity" title="&amp;emsp;">&amp;emsp;</span>worid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="js文档参考"><a href="#js文档参考" class="header-anchor">#</a> JS文档参考</h2> <blockquote><p><a href="https://hub.xn--gzu630h.xn--kpry57d/qq449245884/xiaozhi" target="_blank" rel="noopener noreferrer">JS文档参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="js操作网页dom节点"><a href="#js操作网页dom节点" class="header-anchor">#</a> JS操作网页DOM节点</h2> <h3 id="js动态-添加-移除-节点的class"><a href="#js动态-添加-移除-节点的class" class="header-anchor">#</a> JS动态/添加/移除/节点的Class</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 给节点添加className</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'className'</span><span class="token punctuation">)</span>

<span class="token comment">// 移除节点添加className</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'className'</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="js动态创建节点"><a href="#js动态创建节点" class="header-anchor">#</a> JS动态创建节点</h3> <blockquote><p>优点: 动态创建节点不会影响相邻的节点已经注册的事件</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code>
<span class="token comment">// 封装好的动态创建子节点函数</span>
<span class="token keyword">function</span> <span class="token function">createNode</span><span class="token punctuation">(</span><span class="token parameter">nodeName<span class="token punctuation">,</span> callback<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> parentNode<span class="token operator">=</span><span class="token keyword">null</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> createNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置节点属性</span>
    <span class="token keyword">const</span> <span class="token function-variable function">set</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">attribute<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> att <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createAttribute</span><span class="token punctuation">(</span>attribute<span class="token punctuation">)</span>
        att<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
        createNode<span class="token punctuation">.</span><span class="token function">setAttributeNode</span><span class="token punctuation">(</span>att<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>callback <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token function">callback</span><span class="token punctuation">(</span>createNode<span class="token punctuation">,</span>set<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>parentNode <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> parentNode<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>createNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">// ------------------------------------------------------</span>



<span class="token comment">// 使用示例</span>
<span class="token comment">// 说明: 创建一个a节点不渲染生成进行点击事件</span>
<span class="token function">createNode</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">set<span class="token punctuation">,</span>att</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    a<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'#hello'</span>
    set<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>




<span class="token comment">// 说明: 给body节点下添加一个div节点</span>
<span class="token comment">// 获取父节点对象</span>
<span class="token keyword">let</span> parentNode <span class="token operator">=</span> <span class="token function">node</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token comment">// 创建一个div节点: 使用回调函数设置属性</span>
<span class="token function">createNode</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">set<span class="token punctuation">,</span>att</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// set对象只能设置一些节点默认的属性、不能设置自定义属性</span>
    <span class="token comment">// 使用set给这个创建的div设置一个data属性是不生效的</span>
    <span class="token comment">// 因为div默认没有这个属性,只能通过att进行设置</span>
    
    set<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'myClicks'</span>
    set<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'ms'</span>
    set<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'&lt;a&gt;hello&lt;/a&gt;'</span>

    <span class="token comment">// att对象可以设置默认属性和自定义属性</span>
    <span class="token comment">// att('class','mac')</span>
    <span class="token function">att</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span><span class="token string">'hello'</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">,</span>parentNode<span class="token punctuation">)</span>



<span class="token comment">// 创建后的样子</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">'ms'</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'myClicks'</span> data<span class="token operator">=</span><span class="token string">'hello'</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><h2 id="js运行平台"><a href="#js运行平台" class="header-anchor">#</a> JS运行平台</h2> <blockquote><p>判断运行在什么平台的浏览器上</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 判断浏览器函数</span>
<span class="token keyword">function</span> <span class="token function">isMobile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 移动端</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// PC端</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="js游览器本地存储"><a href="#js游览器本地存储" class="header-anchor">#</a> JS游览器本地存储</h2> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 封装好的本地存储: 查看，存储，判断，删除，等等</span>
<span class="token comment">// 本地数据存储操作等等</span>
<span class="token keyword">function</span> <span class="token function">storage</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token keyword">null</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 判断一个值是否存在</span>
    <span class="token keyword">const</span> <span class="token function-variable function">isKey</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">}</span>
    
    <span class="token comment">// 获取存储所有的值</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'all'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 清除存储中所有的值</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'cll'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
    <span class="token comment">// 判断没有输入key停止向下执行</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'没有输入: Key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span><span class="token punctuation">}</span>

    <span class="token comment">// 判断一个值是否存在</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'is'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">isKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>  
    <span class="token comment">// 移除一个值</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'del'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">}</span>  
    <span class="token comment">// 设置一个值</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'set'</span> <span class="token operator">&amp;&amp;</span> value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token function">isKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token comment">// 获取一个值</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'get'</span> <span class="token operator">&amp;&amp;</span> key <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
        

<span class="token punctuation">}</span>


<span class="token comment">// 使用示例:</span>

<span class="token comment">// 查看本地存储所有数据</span>
<span class="token function">storage</span><span class="token punctuation">(</span><span class="token string">'all'</span><span class="token punctuation">)</span>

<span class="token comment">// 存储数据</span>
<span class="token function">storage</span><span class="token punctuation">(</span><span class="token string">'set'</span><span class="token punctuation">,</span><span class="token string">'data'</span><span class="token punctuation">,</span><span class="token string">'hello'</span><span class="token punctuation">)</span>

<span class="token comment">// 获取数据</span>
<span class="token function">storage</span><span class="token punctuation">(</span><span class="token string">'get'</span><span class="token punctuation">,</span><span class="token string">'data'</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h2 id="js还原被重写的对象"><a href="#js还原被重写的对象" class="header-anchor">#</a> JS还原被重写的对象</h2> <blockquote><p>例如调试一个第三方网站时：console对象下的方法被重写了、无法使用console.log进行输出、就需要还原成原来的方法、创建一个iframe标签并把里面的环境引入到当前对象下、实现还原</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示例如：</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>console <span class="token operator">=</span> iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>console
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="js函数或变量定义"><a href="#js函数或变量定义" class="header-anchor">#</a> JS函数或变量定义</h2> <h3 id="js函数中的变量定义"><a href="#js函数中的变量定义" class="header-anchor">#</a> JS函数中的变量定义</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 声明多个变量的方法</span>

<span class="token comment">// 声明多个变量或者初始化变量使用以下方法，简单实用</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> 
    array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// es6通过数组形式声明或者初始化变量方法</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>i<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="js的new关键字构建对象和类class"><a href="#js的new关键字构建对象和类class" class="header-anchor">#</a> JS的new关键字构建对象和类class</h2> <h3 id="js初始化对象new关键字"><a href="#js初始化对象new关键字" class="header-anchor">#</a> JS初始化对象new关键字</h3> <ol><li><p>创建一个新对象;</p></li> <li><p>将构造函数的作用域赋给新对象（因此 <code>this</code> 就指向了这个新对象;</p></li> <li><p>执行构造函数中的代码（为这个新对象添加属性;</p></li> <li><p>返回新对象。</p></li></ol> <blockquote><p>在《<code>JavaScript模式</code>》这本书中、当我们<code>new</code>一个构造器，主要有三步：</p></blockquote> <ul><li>创建一个空对象，将它的引用赋给<code>this</code>，继承函数的原型。</li> <li>通过 <code>this</code> 将属性和方法添加至这个对象</li> <li>最后返回 <code>thi</code>指向的新对象，也就是实例（如果没有手动返回其他的对象）</li></ul> <h3 id="js对象的-prototype-constructor-proto-说明"><a href="#js对象的-prototype-constructor-proto-说明" class="header-anchor">#</a> JS对象的 prototype/constructor/proto 说明</h3> <blockquote><p><code>prototype</code>原型对象、<code>constructor</code>指针对象、__<code>proto</code>__指针对象
注意: <code>constructor</code>对象、<code>proto</code>对象、都是操作<code>prototype</code>对象下的属性、方法的指针</p></blockquote> <h4 id="prototype原型对象"><a href="#prototype原型对象" class="header-anchor">#</a> prototype原型对象</h4> <blockquote><p><code>prototype原型</code>对象构成了js的原型链、通过<code>prototype</code>对象来修改、设置对象下的属性和方法、注意使用: 使用<code>prototype</code>对象，必须是在<code>new</code>初始化之前设置、修改属性、方法</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示示例:</span>

<span class="token comment">// 注意: [[Prototype]] == prototype</span>
<span class="token keyword">function</span> <span class="token function">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'小明'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,今年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Rect对象继承数组Array对象下的属性、方法、继承后可以使用Array对象下的属性、方法</span>
<span class="token class-name">Rect</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype

<span class="token comment">// 给Rect对象自定义一个方法</span>
<span class="token class-name">Rect</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">privacy</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">喜欢看美女</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span>


<span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span>

<span class="token comment">// 输出结果:</span>
<span class="token comment">// Rect对象没有继承Array对象下的属性、方法时:</span>

Rect <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">speak</span><span class="token operator">:</span> ƒ<span class="token punctuation">}</span>
<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;小明&quot;</span>
<span class="token literal-property property">speak</span><span class="token operator">:</span> <span class="token function">ƒ</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object
<span class="token literal-property property">constructor</span><span class="token operator">:</span> ƒ <span class="token function">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object


<span class="token comment">// 输出结果:</span>
<span class="token comment">// Rect对象继承Array对象下的属性、方法时:</span>
<span class="token comment">// 明显多了许多属性、方法</span>

Rect <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">speak</span><span class="token operator">:</span> ƒ<span class="token punctuation">}</span>
<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;小明&quot;</span>
<span class="token function-variable function">speak</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,今年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token literal-property property">privacy</span><span class="token operator">:</span> <span class="token function">ƒ</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">at</span><span class="token operator">:</span> ƒ <span class="token function">at</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">concat</span><span class="token operator">:</span> ƒ <span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">constructor</span><span class="token operator">:</span> ƒ <span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">copyWithin</span><span class="token operator">:</span> ƒ <span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">entries</span><span class="token operator">:</span> ƒ <span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">every</span><span class="token operator">:</span> ƒ <span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">fill</span><span class="token operator">:</span> ƒ <span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">filter</span><span class="token operator">:</span> ƒ <span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h4 id="constructor指针对象"><a href="#constructor指针对象" class="header-anchor">#</a> constructor指针对象</h4> <blockquote><p><code>constructor</code>指针指向原来的构造函数、可以通过它解决<code>new</code>初始化、调用对象后无法继承<code>prototype</code>对象的属性、方法</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示示例:</span>
<span class="token comment">// 通过constructor指针继承new初始化后prototype对象的属性、方法</span>

<span class="token keyword">function</span> <span class="token function">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'小明'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,今年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 给Rect对象自定义一个方法</span>
<span class="token class-name">Rect</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">privacy</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">喜欢看美女</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span>

<span class="token comment">// ------------------------------------------------&gt;&gt;</span>
<span class="token keyword">function</span> <span class="token function">Rect2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 通过prototype继承 Rect对象下的prototype下的属性，方法</span>
<span class="token class-name">Rect2</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> rect<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype

<span class="token keyword">const</span> rect2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span>

<span class="token comment">// 输出结果:</span>
Rect <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object
<span class="token literal-property property">privacy</span><span class="token operator">:</span> <span class="token function">ƒ</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">constructor</span><span class="token operator">:</span> ƒ <span class="token function">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object

<span class="token comment">// 输出结果:</span>
Rect2 <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object
<span class="token literal-property property">privacy</span><span class="token operator">:</span> <span class="token function">ƒ</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">constructor</span><span class="token operator">:</span> ƒ <span class="token function">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="proto指针对象"><a href="#proto指针对象" class="header-anchor">#</a> proto指针对象</h4> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// new初始化后使用__proto__对象来继承prototype对象继承原型下、属性、方法</span>
<span class="token keyword">function</span> <span class="token function">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'小明'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,今年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Rect对象继承数组Array对象下的属性、方法、继承后可以使用Array对象下的属性、方法</span>
<span class="token comment">// Rect.prototype = Array.prototype</span>


<span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// new初始化后无法使用prototype对象继承原型下、属性、方法</span>
<span class="token comment">// 可以通过__proto__对象来继承prototype原型下、属性、方法</span>
rect<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="prototype-class创建类对比"><a href="#prototype-class创建类对比" class="header-anchor">#</a> prototype/class创建类对比</h4> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 示例说明</span>
<span class="token comment">// 从下面两个示例可以看出他们输出基本是一模一样</span>
<span class="token comment">// 注意: class创建类优势更大</span>

<span class="token comment">// 使用prototype原型创建类</span>
<span class="token keyword">function</span> <span class="token function">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'小明'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,今年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token class-name">Rect</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">privacy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">喜欢看美女</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>

<span class="token comment">// -----------------------------------------------------------&gt;&gt;</span>

<span class="token comment">// 使用class对象创建类</span>
<span class="token keyword">class</span> <span class="token class-name">Rect2</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'小明'</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,今年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> 
    <span class="token punctuation">}</span>

    <span class="token function">privacy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">喜欢看美女</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span>

<span class="token keyword">const</span> rect2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span>

<span class="token comment">// Rect输出结果:</span>
Rect <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">speak</span><span class="token operator">:</span> ƒ<span class="token punctuation">}</span>
<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;小明&quot;</span>
<span class="token literal-property property">speak</span><span class="token operator">:</span> <span class="token function">ƒ</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object
<span class="token literal-property property">privacy</span><span class="token operator">:</span> <span class="token function">ƒ</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">constructor</span><span class="token operator">:</span> ƒ <span class="token function">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object

<span class="token comment">// Rect2输出结果:</span>
Rect2 <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">speak</span><span class="token operator">:</span> ƒ<span class="token punctuation">}</span>
<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;小明&quot;</span>
<span class="token literal-property property">speak</span><span class="token operator">:</span> <span class="token function">ƒ</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object
<span class="token literal-property property">constructor</span><span class="token operator">:</span> <span class="token keyword">class</span> <span class="token class-name">Rect2</span>
<span class="token literal-property property">privacy</span><span class="token operator">:</span> ƒ <span class="token function">privacy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h2 id="js类定义"><a href="#js类定义" class="header-anchor">#</a> JS类定义</h2> <blockquote><p>JS类定义或者使用
参考文档：<a href="https://blog.fundebug.com/2020/01/02/javascript-classes-complete-guide/" target="_blank" rel="noopener noreferrer">JavaScript类(Class)完全指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="创建类"><a href="#创建类" class="header-anchor">#</a> 创建类</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 定义类</span>
<span class="token keyword">class</span> <span class="token class-name">user</span> <span class="token punctuation">{</span>
    <span class="token comment">// static # 定义静态私有方法：只能在类里面通过对象调用，外部无法通过对象调用</span>
    <span class="token keyword">static</span> #data <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// new 初始化</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// static定义静态方法: 可以通过内部的类调用或者外部的类对象调用</span>
    <span class="token comment">// 例如：user.name、不能通过内部this和对象调用</span>
    <span class="token keyword">static</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;xiang ming&quot;</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 定义私有方法: 外部无法调用、内部使用this调用</span>
    <span class="token function">#age</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 定义方法: 外部后内部都能调用</span>
    <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#age</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// new 时初始化类</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">user</span><span class="token punctuation">(</span><span class="token string">'da ming'</span><span class="token punctuation">)</span>

<span class="token comment">// 调用对象方法 </span>
obj<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 调用静态方法</span>
user<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h3 id="类继承"><a href="#类继承" class="header-anchor">#</a> 类继承</h3> <blockquote><p><code>JavaScript</code> 中的类使用<code>extends</code>关键字支持单继承、在class Child extends Parent { }表达式中，Child类从Parent继承构造函数，字段和方法。</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 创建一个新的子类ContentWriter来继承父类User</span>
<span class="token comment">// ContentWriter继承了User的构造函数，方法getName()和字段name。同样，ContentWriter类声明了一个新的字段posts。</span>
<span class="token comment">// 注意，父类的私有成员不会被子类继承</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ContentWriter</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  posts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentWriter</span><span class="token punctuation">(</span><span class="token string">'John Smith'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

writer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>      <span class="token comment">// =&gt; 'John Smith'</span>
writer<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'John Smith'</span>
writer<span class="token punctuation">.</span>posts<span class="token punctuation">;</span>     <span class="token comment">// =&gt; []</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="子类继承父类属性方法"><a href="#子类继承父类属性方法" class="header-anchor">#</a> 子类继承父类属性方法</h3> <blockquote><p>如果希望在子类中调用父构造函数，则需要使用子构造函数中可用的<code>super()</code>特殊函数。</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 让ContentWriter构造函数调用User的父构造函数，以及初始化posts字段</span>
<span class="token comment">// 子类ContentWriter中的super(name)执行父类User的构造函数。</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ContentWriter</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  posts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> posts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>posts <span class="token operator">=</span> posts<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentWriter</span><span class="token punctuation">(</span><span class="token string">'前端小智'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Why I like JS'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
writer<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// =&gt; '前端小智'</span>
writer<span class="token punctuation">.</span>posts <span class="token comment">// =&gt; ['Why I like JS']</span>


<span class="token comment">// 注意，在使用this关键字之前，必须在子构造函数中执行super()。调用super()确保父构造函数初始化实例。</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value1<span class="token punctuation">,</span> value2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//无法工作</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>prop2 <span class="token operator">=</span> value2<span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>value1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// 如果希望在子方法中访问父方法，可以使用特殊的快捷方式super。</span>
<span class="token comment">// 子类ContentWriter的getName()直接从父类User访问方法super.getName()，这个特性称为方法重写。</span>
<span class="token comment">// 注意，也可以在静态方法中使用super来访问父类的静态方法。</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ContentWriter</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  posts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> posts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>posts <span class="token operator">=</span> posts<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'无名氏'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentWriter</span><span class="token punctuation">(</span><span class="token string">'前端小智'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Why I like JS'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
writer<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; '无名氏'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><h2 id="js文件操作"><a href="#js文件操作" class="header-anchor">#</a> JS文件操作</h2> <blockquote><p>使用<code>FileReader</code>对象读取本地文件: <code>FileReader</code>对象允许Web应用程序异步读取存储在用户计算机上的文件（或原始数据缓冲区）的内容，使用<code>File</code>或<code>Blob</code>对象指定要读取的文件或数据。注意: <code>FileReader</code>对象读取的文件数据类型为<code>Blob</code>对象的数据类型</p></blockquote> <h3 id="filereader对象方法"><a href="#filereader对象方法" class="header-anchor">#</a> FileReader对象方法</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 作用：中止读取操作。</span>
FileReader<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 作用：读取的文件数据转换为ArrayBuffer数据对象。</span>
FileReader<span class="token punctuation">.</span><span class="token function">readAsArrayBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 作用：读取文件的原始二进制数据</span>
FileReader<span class="token punctuation">.</span><span class="token function">readAsBinaryString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 作用：读取文件的数据为URL格式的字符串以表示所读取文件的内容。此方法较为常用。</span>
FileReader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 作用：读取文件文本内容</span>
FileReader<span class="token punctuation">.</span><span class="token function">readAsText</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="filereader对象事件"><a href="#filereader对象事件" class="header-anchor">#</a> FileReader对象事件</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 作用： 该事件在读取操作被中断时触发。</span>
FileReader<span class="token punctuation">.</span><span class="token function-variable function">onabort</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 作用：  该事件在读取操作发生错误时触发。</span>
FileReader<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 作用：  该事件在读取操作完成时触发。该事件较为常用。</span>
FileReader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 作用： 该事件在读取操作开始时触发。</span>
FileReader<span class="token punctuation">.</span><span class="token function-variable function">onloadstart</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 作用： 该事件在读取操作结束时（要么成功，要么失败）触发。</span>
FileReader<span class="token punctuation">.</span><span class="token function-variable function">onloadend</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 作用：该事件在读取Blob时触发</span>
FileReader<span class="token punctuation">.</span><span class="token function-variable function">onprogress</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="filereader使用示例"><a href="#filereader使用示例" class="header-anchor">#</a> FileReader使用示例</h3> <div class="language-HTML line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>本地文件读取<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>readFile<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

    <span class="token comment">// 获取选中的本地文件</span>
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#readFile'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取文件信息</span>
        <span class="token keyword">const</span> file <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 

        <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token comment">// 初始化一个FileReader 对象</span>
            <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 读取文件数据为的ArrayBuffer数据对象</span>
            reader<span class="token punctuation">.</span><span class="token function">readAsArrayBuffer</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 文件读取成功时触发</span>
            reader<span class="token punctuation">.</span><span class="token function-variable function">onloadend</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 这个事件在读取结束后，无论成功或者失败都会触发</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>reader<span class="token punctuation">.</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">/*
                    输出结果:
                        ArrayBuffer(663)
                        byteLength: 663
                        [[Prototype]]: ArrayBuffer
                        [[Int8Array]]: Int8Array(663)
                        [[Uint8Array]]: Uint8Array(663)
                        [[ArrayBufferByteLength]]: 663
                        [[ArrayBufferData]]: 1
                    */</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h3 id="js文本数据相互转换加解码"><a href="#js文本数据相互转换加解码" class="header-anchor">#</a> JS文本数据相互转换加解码</h3> <blockquote><p><em>1.</em> <code>FileReader</code>对象允许Web应用程序异步读取存储在用户计算机上的文件（或原始数据缓冲区）的内容，使用File或Blob对象指定要读取的文件或数据。
<em>2.</em> <code>Blob</code>对象表示一个不可变、原始数据的类文件对象、它的数据可以按文本或二进制的格式进行读取，也可以转换成ReadableStream来用于数据操作。<code>Blob</code>表示的不一定是<code>JavaScript</code>原生格式的数据、<code>File</code>接口基于<code>Blob</code>，继承了<code>blob</code>的功能并将其扩展使其支持用户系统上的文件。
<em>3.</em> <code>ArrayBuffer</code>对象代表储存二进制数据的一段内存，它不能直接读写，只能通过视图（TypedArray视图和DataView视图)来读写、视图的作用是以指定格式解读二进制数据。
<em>4.</em> <code>Uint8Array</code>对象是<code>ArrayBuffer</code>的一个数据类型（8位不带符号整数）。
<em>5.</em> <code>TextEncoder</code>接受代码点流作为输入、并提供<code>UTF-8</code>字节流作为输出。
<em>6.</em> <code>TextDecoder</code>接口表示一个文本解码器、一个解码器只支持一种特定文本编码，例如<code>utf-8、iso-8859-2、koi8、cp1261，gbk</code>等等。解码器将字节流作为输入，并提供代码点流作为输出。</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示示例:</span>

<span class="token comment">// 示例1. TextEncoder -&gt; ArrayBuffer</span>
<span class="token keyword">let</span> encoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 字符 转 Uint8Array</span>
<span class="token keyword">let</span> uint8Array <span class="token operator">=</span> encoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">&quot;你好啊&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Uint8Array 转 ArrayBuffer</span>
<span class="token keyword">let</span> arrayBuffer <span class="token operator">=</span> uint8Array<span class="token punctuation">.</span>buffer



<span class="token comment">// 示例2. Blob -&gt; ArrayBuffer</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'hello，你好吗？'</span>
<span class="token keyword">let</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>str<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'text/plain;charset=utf-8'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> utf8decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
blob<span class="token punctuation">.</span><span class="token function">arrayBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">buffer</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token comment">// ArrayBuffer</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span>
  <span class="token keyword">let</span> text <span class="token operator">=</span> utf8decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span>
  <span class="token comment">// String</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>




<span class="token comment">// 示例3. FileReader =&gt; ArrayBuffer</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'hello，你好吗？'</span>
<span class="token keyword">let</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>str<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'text/plain;charset=utf-8'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> utf8decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
fr<span class="token punctuation">.</span><span class="token function">readAsArrayBuffer</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span>
fr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ArrayBuffer</span>
  <span class="token keyword">let</span> buffer <span class="token operator">=</span> fr<span class="token punctuation">.</span>result
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span>
  <span class="token keyword">let</span> text <span class="token operator">=</span> utf8decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span>
  <span class="token comment">// String</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h2 id="js对象操作"><a href="#js对象操作" class="header-anchor">#</a> JS对象操作</h2> <h3 id="js对象合并"><a href="#js对象合并" class="header-anchor">#</a> JS对象合并</h3> <blockquote><p>利用了: <code>Object.assign</code>方法</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示例如:</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiangming'</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">num</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>obj2<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

<span class="token comment">// 输出结果</span>
<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'xiangming'</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">12</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="js数据类型判断"><a href="#js数据类型判断" class="header-anchor">#</a> JS数据类型判断</h2> <blockquote><p>使用<code>Object.prototype.toString.call</code>方法来进行数据类型判断比、<code>typeof</code>、<code>instanceof</code>、<code>constructor</code>方法更加好
详细说明请参考: <a href="https://segmentfault.com/a/1190000015264821" target="_blank" rel="noopener noreferrer">js判断数据类型<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示示例:</span>
<span class="token keyword">var</span> bool <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abc'</span>
<span class="token keyword">var</span> und <span class="token operator">=</span> <span class="token keyword">undefined</span>
<span class="token keyword">var</span> nul <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'haoxl'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am a function'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token comment">// 定义数据类型判断函数</span>
<span class="token keyword">function</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'[object '</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">']'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token comment">// 输出</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>und<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>nul<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 输出结果:</span>
boolean
number
string
<span class="token keyword">undefined</span>
<span class="token keyword">null</span>
array
object
<span class="token keyword">function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="js数组操作"><a href="#js数组操作" class="header-anchor">#</a> JS数组操作</h2> <h3 id="js统计数组中元素重复次数"><a href="#js统计数组中元素重复次数" class="header-anchor">#</a> JS统计数组中元素重复次数</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示示例:</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;李&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;李&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;设&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;弟&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;弟&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;生&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;生&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;李&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 

<span class="token keyword">let</span> obj <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    prev<span class="token punctuation">[</span>next<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>prev<span class="token punctuation">[</span>next<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> prev<span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 输出结果</span>
<span class="token punctuation">{</span><span class="token literal-property property">李</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">设</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">弟</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">生</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="js获取数组第几到第几元素"><a href="#js获取数组第几到第几元素" class="header-anchor">#</a> JS获取数组第几到第几元素</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示示例: 获取数组前三个元素</span>
<span class="token keyword">var</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Banana&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Orange&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Lemon&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Apple&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mango&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> citrus <span class="token operator">=</span> fruits<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;数组前三个元素：&quot;</span><span class="token operator">+</span>citrus<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出结果</span>
数组前三个元素：Banana<span class="token punctuation">,</span>Orange<span class="token punctuation">,</span>Lemon

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="js数组元素删除添加"><a href="#js数组元素删除添加" class="header-anchor">#</a> JS数组元素删除添加</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示示例</span>

<span class="token comment">// 给数组尾部添加数</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>

<span class="token comment">// 通过索引删除数组元素</span>
<span class="token keyword">let</span> delete_index <span class="token operator">=</span> <span class="token number">0</span>
arr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>delete_index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// 结果</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>



<span class="token comment">// 通过指定元素删除数组元素</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    element <span class="token operator">=</span> <span class="token number">2</span>
<span class="token comment">// 删除数组中为2的数组元素 </span>
arr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">!=</span> element<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="js数组分割"><a href="#js数组分割" class="header-anchor">#</a> JS数组分割</h3> <blockquote><p>利用<code>array.slice()</code>方法来平均分割一个数组，并将分割后的数组组合成一个新的数组</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 定义演示数组</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 

<span class="token comment">// 定义数组分割函数</span>
<span class="token keyword">function</span> <span class="token function">splitArray</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> size</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> 
        array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        split <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> size<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Math.ceil()向上取整的方法</span>
    
    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> size <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        index <span class="token operator">+=</span> size<span class="token punctuation">;</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> array
<span class="token punctuation">}</span>

<span class="token comment">// 将数组平均分割成4份</span>
<span class="token keyword">let</span> arrs <span class="token operator">=</span> <span class="token function">splitArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrs<span class="token punctuation">)</span>

<span class="token comment">// 输出结果:</span>
<span class="token punctuation">[</span>
  <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">]</span>
<span class="token punctuation">]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2 id="js字符串操作"><a href="#js字符串操作" class="header-anchor">#</a> JS字符串操作</h2> <h3 id="js字符串大小写转换"><a href="#js字符串大小写转换" class="header-anchor">#</a> JS字符串大小写转换</h3> <table><thead><tr><th>字符串方法</th> <th>说明</th></tr></thead> <tbody><tr><td>toLocaleLowerCase()</td> <td>把字符串转换成小写</td></tr> <tr><td>toLocaleUpperCase()</td> <td>将字符串转换成大写</td></tr> <tr><td>toLowerCase()</td> <td>将字符串转换成小写</td></tr> <tr><td>toUpperCase()</td> <td>将字符串转换成大写</td></tr></tbody></table> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示示例:</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">&quot;JavaScript&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//返回字符串“JAVASCRIPT”</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="js去除字符串首尾空格"><a href="#js去除字符串首尾空格" class="header-anchor">#</a> JS去除字符串首尾空格</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'  hello worid  '</span>
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^\s*)|(\s*$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// 输出结果</span>
hello worid
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="js字符串查找匹配"><a href="#js字符串查找匹配" class="header-anchor">#</a> JS字符串查找匹配</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code>
<span class="token comment">// 示例</span>
<span class="token keyword">let</span> str <span class="token operator">=</span><span class="token string">'abcdefab'</span><span class="token punctuation">;</span>

<span class="token comment">// 静态匹配的字符</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span>

<span class="token comment">// 动态查找匹配的字符</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token function">RegExp</span><span class="token punctuation">(</span>su<span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>

<span class="token comment">// 输出结果</span>
<span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span> <span class="token punctuation">]</span>


<span class="token comment">// 匹配成功返回true</span>
<span class="token keyword">let</span> su <span class="token operator">=</span> <span class="token string">'ab'</span>
<span class="token keyword">let</span> bool <span class="token operator">=</span> <span class="token function">RegExp</span><span class="token punctuation">(</span>su<span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 可以写成</span>
bool <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 输出结果</span>
<span class="token boolean">true</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="js异步回调"><a href="#js异步回调" class="header-anchor">#</a> JS异步回调</h2> <h3 id="使用异步回调说明"><a href="#使用异步回调说明" class="header-anchor">#</a> 使用异步回调说明</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 演示示例:</span>

<span class="token comment">/**
下面示例说明：我需要获取setTimeout一秒后执行的结果、
console.log输出的是: 0,那是因为setTimeout是在console.log后异步执行的、我们没有办法在同步之上获取结果
**/</span>

<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    num<span class="token operator">++</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
<span class="token comment">// 输出： 0</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="使用promise对象回调结果"><a href="#使用promise对象回调结果" class="header-anchor">#</a> 使用Promise对象回调结果</h3> <blockquote><p>Promise 被引入了用于解决著名的回调地狱问题，但是它们自身引入了复杂性以及语法复杂性。</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Promise对象使用示例:</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">const</span> <span class="token function-variable function">getData</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 模拟异步执行: 请替换你需要处理的异步</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          num<span class="token operator">++</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token comment">// 获取正确结果回调</span>
              <span class="token function">resolve</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>

          <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
              <span class="token comment">// 获取错误结果回调</span>
              <span class="token function">reject</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
              <span class="token keyword">return</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>


    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>



<span class="token comment">// 调用方法</span>
<span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'后异步'</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span>
    <span class="token punctuation">{</span><span class="token literal-property property">等待返回的结果后</span><span class="token operator">:</span>在这里写需要处理的任务<span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token punctuation">{</span><span class="token literal-property property">等待返回的错误结果后</span><span class="token operator">:</span>在这里写需要处理的任务<span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'后异步'</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span> 

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'先同步'</span><span class="token punctuation">,</span>num<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h3 id="使用async-await配合promise实现回调"><a href="#使用async-await配合promise实现回调" class="header-anchor">#</a> 使用Async/Await配合Promise实现回调</h3> <blockquote><p>为什么引入 <code>async/await</code>
它们减少了promises的样板、且减少了promise链的<code>不破坏链条</code>的限制</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 示例：封装async/await/Promise和方便调用</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getAsyncAwait</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">request</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 模拟异步执行: 请替换你需要处理的异步</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                num<span class="token operator">++</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>

                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
                    <span class="token keyword">return</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
            
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// await等待异步获取返回的结果后回调</span>
    <span class="token keyword">let</span> resolve <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">callback</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span>

<span class="token punctuation">}</span>


<span class="token comment">// 调用方法</span>
<span class="token function">getAsyncAwait</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span>err</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span><span class="token literal-property property">等待返回的结果后</span><span class="token operator">:</span>在这里写需要处理的任务<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="类里面使用async-await-promise参考"><a href="#类里面使用async-await-promise参考" class="header-anchor">#</a> 类里面使用async/await/Promise参考</h3> <blockquote><p><a href="#http%E8%AF%B7%E6%B1%82%E5%B0%81%E8%A3%85">http请求封装</a></p></blockquote> <h2 id="url编码"><a href="#url编码" class="header-anchor">#</a> URL编码</h2> <h3 id="url编码和解码"><a href="#url编码和解码" class="header-anchor">#</a> URL编码和解码</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 只对URL的参数进行编码或者解码</span>
<span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">)</span> <span class="token comment">// 编码</span>
<span class="token function">decodeURI</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">)</span> <span class="token comment">// 解码</span>

<span class="token comment">// 只对URL整个连接进行编码或者解码</span>
<span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">)</span> <span class="token comment">// 编码</span>
<span class="token function">decodeURIComponent</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">)</span> <span class="token comment">// 解码</span>

<span class="token comment">// 演示示例:</span>
<span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token string">'http://iecoxe.top:5000/v1/kuwo/search?key=你好'</span><span class="token punctuation">)</span>
<span class="token comment">// 输出结果: 'http://iecoxe.top:5000/v1/kuwo/search?key=%E4%BD%A0%E5%A5%BD'</span>

<span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token string">'http://iecoxe.top:5000/v1/kuwo/search?key=你好'</span><span class="token punctuation">)</span>
<span class="token comment">// 输出结果: 'http%3A%2F%2Fiecoxe.top%3A5000%2Fv1%2Fkuwo%2Fsearch%3Fkey%3D%E4%BD%A0%E5%A5%BD'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="http请求"><a href="#http请求" class="header-anchor">#</a> HTTP请求</h2> <blockquote><p>参考:
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/open" target="_blank" rel="noopener noreferrer">文档：XMLHttpRequest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/Synchronous_and_Asynchronous_Requests" target="_blank" rel="noopener noreferrer">文档：同步和异步请求<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">,</span> async<span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">,</span> async<span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">,</span> async<span class="token punctuation">,</span> user<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 参数</span>
<span class="token literal-property property">method</span><span class="token operator">:</span>   要使用的 <span class="token constant">HTTP</span> 方法，比如 <span class="token constant">GET</span>、<span class="token constant">POST</span>、<span class="token constant">PUT</span>、<span class="token constant">DELETE</span>、等。对于非 <span class="token constant">HTTP</span><span class="token punctuation">(</span><span class="token constant">S</span><span class="token punctuation">)</span> <span class="token constant">URL</span> 被忽略。
<span class="token literal-property property">url</span><span class="token operator">:</span>      一个 DOMString 表示要向其发送请求的 <span class="token constant">URL</span>。
<span class="token literal-property property">async</span><span class="token operator">:</span>    可选的布尔参数，表示是否异步执行操作，默认为 <span class="token boolean">true</span>。如果值为 <span class="token boolean">false</span><span class="token function">，send</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法直到收到答复前不会返回。如果 <span class="token boolean">true</span>，已完成事务的通知可供事件监听器使用。如果 multipart 属性为 <span class="token boolean">true</span> 则这个必须为 <span class="token boolean">true</span>，否则将引发异常。
<span class="token literal-property property">user</span><span class="token operator">:</span>     可选的用户名用于认证用途；默认为 <span class="token keyword">null</span>。
<span class="token literal-property property">password</span><span class="token operator">:</span> 可选的密码用于认证用途，默认为 <span class="token keyword">null</span>。

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="http性能"><a href="#http性能" class="header-anchor">#</a> HTTP性能</h3> <blockquote><p><a href="https://segmentfault.com/a/1190000022205291" target="_blank" rel="noopener noreferrer"> HTTP参考文档:<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h4 id="http1-1"><a href="#http1-1" class="header-anchor">#</a> HTTP1.1</h4> <blockquote><p><code>HTTP1.1协议</code>请求只能串行发送：<code>HTTP1.1协议</code>规定请求只能<code>串行发送</code>，也就是说一百个请求必须依次逐个发送，前面的一个请求完成才能开始下个请求
虽然不会花费tcp三次握手时间：但是本身是串行请求
<code>HTTP1.1</code>如果要同时发起多个请求，就得建立多个 TCP 连接，因为一个 TCP 连接同时只能处理一个 <code>HTTP1.1</code>的请求。</p></blockquote> <h4 id="http2"><a href="#http2" class="header-anchor">#</a> HTTP2</h4> <blockquote><p>在<code>HTTP2</code> 上，多个请求可以共用一个 TCP 连接，这称为多路复用。同一个请求和响应用一个流来表示，并有唯一的流 ID 来标识。
多个请求和响应在 TCP 连接中可以乱序发送，到达目的地后再通过流 ID 重新组建。</p></blockquote> <h3 id="异步请求"><a href="#异步请求" class="header-anchor">#</a> 异步请求</h3> <blockquote><p>演示一个简单的异步请求</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 第 2 行中指定第三个参数为 true，表示该请求应该以异步模式执行。</span>
<span class="token comment">// 第 3 行创建一个事件处理函数对象，并将其分配给请求的 onload 属性。此处理程序查看请求的 readyState，以查看事务是否在第 4 行完成，如果是，并且 HTTP 状态为 200，则转储接收到的内容。如果发生错误，则显示错误消息。</span>
<span class="token comment">// 第 15 行实际上启动了请求。只要请求的状态发生变化，就会调用回调程序。</span>

<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/bar/foo.txt&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="设置请求超时"><a href="#设置请求超时" class="header-anchor">#</a> 设置请求超时</h3> <blockquote><p>示例: 设置请求超时</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 你可以使用一个超时设置，来避免你的代码为了等候读取请求的返回数据长时间执行。超时毫秒数可以通过为 XMLHttpRequest 对象的 timeout 属性赋值来指定</span>
 <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">ontimeout</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;The request for &quot;</span> <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot; timed out.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">2000</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="同步请求"><a href="#同步请求" class="header-anchor">#</a> 同步请求</h3> <blockquote><p>例子：<code>http</code> 同步请求</p></blockquote> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'http://www.mozilla.org/'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="http请求封装"><a href="#http请求封装" class="header-anchor">#</a> http请求封装</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// http请求</span>
<span class="token keyword">class</span> <span class="token class-name">httpRequest</span><span class="token punctuation">{</span>


    <span class="token comment">// new 初始化时执行</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">timeout <span class="token operator">=</span> <span class="token number">4000</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>headerData <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>requestHeader <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>timeout <span class="token operator">=</span> timeout
    <span class="token punctuation">}</span>



    <span class="token comment">// 定义私有方法: 格式化请求头</span>
    <span class="token function">#setHeader</span><span class="token punctuation">(</span><span class="token parameter">xhr<span class="token punctuation">,</span>header</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        
        <span class="token comment">// xhr无法设置的请求头</span>
        <span class="token keyword">let</span> disableHeader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            Accept-Charset Accept-Encoding Access-Control-Request-Headers 
            Access-Control-Request-Method Connection Content-Length 
            Cookie Cookie2 Date DNT Expect Host Keep-Alive Origin User-Agent 
            Proxy- Sec- Referer TE Trailer Transfer-Encoding Upgrade Via     
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>headerData <span class="token operator">!=</span> header<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>headerData <span class="token operator">=</span> header<span class="token punctuation">;</span>
            header <span class="token operator">=</span> header<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>
            header<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">list</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                list <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^\s*)|(\s*$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    list <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token keyword">let</span> bool <span class="token operator">=</span> <span class="token function">RegExp</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>disableHeader<span class="token punctuation">)</span><span class="token punctuation">,</span>
                            bool2 <span class="token operator">=</span> <span class="token function">RegExp</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>disableHeader<span class="token punctuation">)</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>bool<span class="token operator">||</span>bool2<span class="token punctuation">)</span><span class="token punctuation">{</span>
                            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'无法设置请求头: '</span><span class="token punctuation">,</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                            xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                            data<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>requestHeader <span class="token operator">=</span> data<span class="token punctuation">;</span>

        
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>requestHeader<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>





    <span class="token comment">// http发送数据</span>
    <span class="token function">send</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>header<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">null</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span>url<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>header <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#setHeader</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span>header<span class="token punctuation">)</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



    <span class="token comment">// http同步请求:效率低:容易操作</span>
    <span class="token function">getSync</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">null</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> statusCode<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>header <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#setHeader</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span>header<span class="token punctuation">)</span>

        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> statusCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>




    <span class="token comment">// http异步等待实现:同步:效率中:不好操作 </span>
    <span class="token keyword">async</span> <span class="token function">getAsyncAwait</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">null</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> statusCode<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
            asyncFuns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>getAsync

        <span class="token keyword">const</span> <span class="token function-variable function">request</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">asyncFuns</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>resolve<span class="token punctuation">,</span>header<span class="token punctuation">,</span>statusCode<span class="token punctuation">,</span>_this<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            
        <span class="token punctuation">}</span>

        <span class="token keyword">let</span> resolve <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">callback</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span>
        
    <span class="token punctuation">}</span>




    <span class="token comment">// http异步请求:效率高:不好操作</span>
    <span class="token function">getAsync</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">null</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> statusCode<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">,</span> _this<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>_this <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>
        <span class="token keyword">let</span> timeout <span class="token operator">=</span> _this<span class="token punctuation">.</span>timeout

        <span class="token keyword">let</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>timeout <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> xhr<span class="token punctuation">.</span><span class="token function-variable function">ontimeout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'请求超时了: '</span> <span class="token operator">+</span> url<span class="token punctuation">)</span> <span class="token punctuation">}</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> statusCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">callback</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'错误'</span><span class="token punctuation">,</span>xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            
        <span class="token punctuation">}</span>

        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>header <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> _this<span class="token punctuation">.</span><span class="token function">#setHeader</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span>header<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>timeout <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> xhr<span class="token punctuation">.</span>timeout <span class="token operator">=</span> timeout<span class="token punctuation">;</span>
        
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'请求失败'</span><span class="token punctuation">)</span>
            xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
   
<span class="token punctuation">}</span>


<span class="token comment">// 请求头格式</span>
<span class="token keyword">let</span> header <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    Accept: */*
    scheme: https
    Accept-Encoding: gzip, deflate
    Accept-Language: zh-CN,zh;q=0.9
    Connection: keep-alives
    Host: www.kuwo.cn
    Referer: https://www.baidu.com/
    Sec-ch-ua-platform: macOS
    Set-Cookie: widget_session=abc1235; SameSite=None; Secure
    User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36
</span><span class="token template-punctuation string">`</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br></div></div><h2 id="js性能优化"><a href="#js性能优化" class="header-anchor">#</a> JS性能优化</h2> <h3 id="避免if嵌套造成执行效率低下问题"><a href="#避免if嵌套造成执行效率低下问题" class="header-anchor">#</a> 避免if嵌套造成执行效率低下问题</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 例如：这样</span>
<span class="token keyword">if</span>
   <span class="token keyword">if</span>
     <span class="token keyword">if</span>
       <span class="token keyword">if</span>
         <span class="token keyword">do</span> something
       endif
     endif
   endif
 endif
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/wangmings/edit/master/docs/02.笔记/04.JavaScript笔记.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/5bdea9/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Electron跨平台开发笔记</div></a> <a href="/pages/e51faa/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">常用的ES5和ES6中对象的导出和导入的差异之处</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/5bdea9/" class="prev">Electron跨平台开发笔记</a></span> <span class="next"><a href="/pages/e51faa/">常用的ES5和ES6中对象的导出和导入的差异之处</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/496810/"><div>
            theme-vdoing-blog博客静态编译问题
            <!----></div></a> <span class="date">09-16</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/889428/"><div>
            搜索引擎
            <!----></div></a> <span class="date">07-19</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/cf35cb/"><div>
            友情链接
            <!----></div></a> <span class="date">07-19</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1139009490@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/wangmings" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2022
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div></div></div>
    <script src="/assets/js/app.6915d903.js" defer></script><script src="/assets/js/2.8e90d117.js" defer></script><script src="/assets/js/275.1a89dcc7.js" defer></script><script src="/assets/js/3.27710204.js" defer></script><script src="/assets/js/4.c80d45e6.js" defer></script>
  </body>
</html>

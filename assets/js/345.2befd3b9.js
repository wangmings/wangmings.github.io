(window.webpackJsonp=window.webpackJsonp||[]).push([[345],{840:function(t,a,s){"use strict";s.r(a);var r=s(30),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"数据提取之xpath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据提取之xpath"}},[t._v("#")]),t._v(" 数据提取之xpath")]),t._v(" "),s("h5",{attrs:{id:"学习目标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#学习目标"}},[t._v("#")]),t._v(" 学习目标")]),t._v(" "),s("ol",[s("li",[t._v("了解 html和xml的区别")]),t._v(" "),s("li",[t._v("掌握 xpath获取节点属性的方法")]),t._v(" "),s("li",[t._v("掌握 xpath获取文本的方法")]),t._v(" "),s("li",[t._v("掌握 xpath查找特定节点的方法")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"_1-为什么要学习xpath和lxml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-为什么要学习xpath和lxml"}},[t._v("#")]),t._v(" 1. 为什么要学习xpath和lxml")]),t._v(" "),s("p",[t._v("lxml是一款高性能的 Python HTML/XML 解析器，我们可以利用XPath，来快速的定位特定元素以及获取节点信息")]),t._v(" "),s("h3",{attrs:{id:"_2-什么是xpath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-什么是xpath"}},[t._v("#")]),t._v(" 2. 什么是xpath")]),t._v(" "),s("p",[t._v("XPath (XML Path Language) 是一门在 HTML\\XML 文档中查找信息的"),s("strong",[t._v("语言")]),t._v("，可用来在 HTML\\XML 文档中对"),s("strong",[t._v("元素和属性进行遍历")]),t._v("。")]),t._v(" "),s("p",[t._v("W3School官方文档："),s("a",{attrs:{href:"http://www.w3school.com.cn/xpath/index.asp",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.w3school.com.cn/xpath/index.asp"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"_3-认识xml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-认识xml"}},[t._v("#")]),t._v(" 3. 认识xml")]),t._v(" "),s("p",[t._v("知识点：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("html和xml的区别")])]),t._v(" "),s("li",[s("p",[t._v("xml中各个元素的的关系和属性")]),t._v(" "),s("h5",{attrs:{id:"_3-1-html和xml的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-html和xml的区别"}},[t._v("#")]),t._v(" 3.1 html和xml的区别")]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/images/%E8%AE%A4%E8%AF%86xml.png",alt:""}})])])]),t._v(" "),s("h5",{attrs:{id:"_3-2-xml的树结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-xml的树结构"}},[t._v("#")]),t._v(" 3.2 xml的树结构")]),t._v(" "),s("div",{staticClass:"language-Python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("bookstore"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("book category"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"COOKING"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("title lang"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Everyday Italian"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("author"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Giada De Laurentiis"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("author"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("year"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2005")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("year"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30.00")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("book"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("book category"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CHILDREN"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("title lang"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Harry Potter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("author"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("J K"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Rowling"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("author"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("year"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2005")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("year"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("29.99")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("book"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("book category"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WEB"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("title lang"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Learning XML"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("author"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Erik T"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Ray"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("author"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("year"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2003")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("year"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("39.95")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("book"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("bookstore"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("p",[t._v("上面的xml内容可以表示为下面的树结构")]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/images/xml%E6%A0%91%E7%BB%93%E6%9E%84.gif",alt:""}})]),t._v(" "),s("p",[t._v("上面的这种结构关系在xpath被进一步细化")]),t._v(" "),s("h3",{attrs:{id:"_4-xpath的节点关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-xpath的节点关系"}},[t._v("#")]),t._v(" 4. xpath的节点关系")]),t._v(" "),s("p",[t._v("知识点：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("认识xpath中的节点")])]),t._v(" "),s("li",[s("p",[t._v("了解xpath中节点之间的关系")]),t._v(" "),s("h5",{attrs:{id:"_4-1-xpath中的节点是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-xpath中的节点是什么"}},[t._v("#")]),t._v(" 4.1 xpath中的节点是什么")]),t._v(" "),s("p",[t._v("每个XML的标签我们都称之为节点，其中最顶层的节点称为根节点。")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/images/%E8%8A%82%E7%82%B9.png",alt:""}})]),t._v(" "),s("h5",{attrs:{id:"_4-2-xpath中节点的关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-xpath中节点的关系"}},[t._v("#")]),t._v(" 4.2 xpath中节点的关系")]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/images/xpath%E4%B8%AD%E8%8A%82%E7%82%B9%E7%9A%84%E5%85%B3%E7%B3%BB.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_5-xpath中节点选择的工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-xpath中节点选择的工具"}},[t._v("#")]),t._v(" 5. xpath中节点选择的工具")]),t._v(" "),s("ul",[s("li",[t._v("Chrome插件 XPath Helper\n"),s("ul",[s("li",[t._v("下载地址："),s("a",{attrs:{href:"https://pan.baidu.com/s/1UM94dcwgus4SgECuoJ-Jcg",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://pan.baidu.com/s/1UM94dcwgus4SgECuoJ-Jcg"),s("OutboundLink")],1),t._v(" 密码:337b")]),t._v(" "),s("li",[t._v("把文件的后缀名crx改为rar，然后解压到xpath_....")]),t._v(" "),s("li",[t._v("把解压后的文件夹拖入到已经开启开发者模式的chrome浏览器扩展程序界面")]),t._v(" "),s("li",[t._v("重启浏览器")])])]),t._v(" "),s("li",[t._v("Firefox插件 XPath Checker")])]),t._v(" "),s("p",[t._v("注意： 这些工具是用来"),s("strong",[t._v("学习xpath语法")]),t._v("的，他们都是"),s("strong",[t._v("从elements中")]),t._v("匹配数据，elements中的数据和url地址对应的响应不相同，所以在代码中，不建议使用这些工具进行数据的提取")]),t._v(" "),s("h3",{attrs:{id:"_6-xpath语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-xpath语法"}},[t._v("#")]),t._v(" 6. xpath语法")]),t._v(" "),s("p",[t._v("知识点")]),t._v(" "),s("ul",[s("li",[t._v("掌握元素路径的相关方法")]),t._v(" "),s("li",[t._v("掌握获取获取属性的方法")]),t._v(" "),s("li",[t._v("掌握获取文本的方法")])]),t._v(" "),s("p",[t._v("我们将在下面的例子中使用这个 XML 文档。")]),t._v(" "),s("div",{staticClass:"language-Python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("bookstore"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("book"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("title lang"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eng"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Harry Potter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("29.99")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("book"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("book"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("title lang"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eng"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Learning XML"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("39.95")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("book"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("!"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("bookstore"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("h5",{attrs:{id:"_6-1-选取节点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-选取节点"}},[t._v("#")]),t._v(" 6.1 选取节点")]),t._v(" "),s("p",[t._v("XPath 使用路径表达式来选取 XML 文档中的节点或者节点集。这些路径表达式和我们在常规的"),s("strong",[t._v("电脑文件系统中看到的表达式")]),t._v("非常相似。")]),t._v(" "),s("p",[s("strong",[t._v('使用chrome插件选择标签时候，选中时，选中的标签会添加属性class="xh-highlight"')])]),t._v(" "),s("h5",{attrs:{id:"下面列出了最有用的表达式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下面列出了最有用的表达式"}},[t._v("#")]),t._v(" 下面列出了最有用的表达式：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("表达式")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("nodename")]),t._v(" "),s("td",[t._v("选中该元素。")])]),t._v(" "),s("tr",[s("td",[t._v("/")]),t._v(" "),s("td",[t._v("从根节点选取、或者是元素和元素间的过渡。")])]),t._v(" "),s("tr",[s("td",[t._v("//")]),t._v(" "),s("td",[t._v("从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。")])]),t._v(" "),s("tr",[s("td",[t._v(".")]),t._v(" "),s("td",[t._v("选取当前节点。")])]),t._v(" "),s("tr",[s("td",[t._v("..")]),t._v(" "),s("td",[t._v("选取当前节点的父节点。")])]),t._v(" "),s("tr",[s("td",[t._v("@")]),t._v(" "),s("td",[t._v("选取属性。")])]),t._v(" "),s("tr",[s("td",[t._v("text()")]),t._v(" "),s("td",[t._v("选取文本。")])])])]),t._v(" "),s("h5",{attrs:{id:"实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),s("p",[t._v("在下面的表格中，我们已列出了一些路径表达式以及表达式的结果：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("路径表达式")]),t._v(" "),s("th",[t._v("结果")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bookstore")]),t._v(" "),s("td",[t._v("选择bookstore元素。")])]),t._v(" "),s("tr",[s("td",[t._v("/bookstore")]),t._v(" "),s("td",[t._v("选取根元素 bookstore。注释：假如路径起始于正斜杠( / )，则此路径始终代表到某元素的绝对路径！")])]),t._v(" "),s("tr",[s("td",[t._v("bookstore/book")]),t._v(" "),s("td",[t._v("选取属于 bookstore 的子元素的所有 book 元素。")])]),t._v(" "),s("tr",[s("td",[t._v("//book")]),t._v(" "),s("td",[t._v("选取所有 book 子元素，而不管它们在文档中的位置。")])]),t._v(" "),s("tr",[s("td",[t._v("bookstore//book")]),t._v(" "),s("td",[t._v("选择属于 bookstore 元素的后代的所有 book 元素，而不管它们位于 bookstore 之下的什么位置。")])]),t._v(" "),s("tr",[s("td",[t._v("//book/title/@lang")]),t._v(" "),s("td",[t._v("选择所有的book下面的title中的lang属性的值。")])]),t._v(" "),s("tr",[s("td",[t._v("//book/title/text()")]),t._v(" "),s("td",[t._v("选择所有的book下面的title的文本。")])])])]),t._v(" "),s("h5",{attrs:{id:"xpath基础语法练习"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xpath基础语法练习"}},[t._v("#")]),t._v(" xpath基础语法练习：")]),t._v(" "),s("blockquote",[s("p",[t._v("接下来我们听过豆瓣电影top250的页面来练习上述语法")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://movie.douban.com/top250",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://movie.douban.com/top250"),s("OutboundLink")],1)])]),t._v(" "),s("ul",[s("li",[t._v("选择所有的h1下的文本\n"),s("ul",[s("li",[s("code",[t._v("//h1/text()")])])])]),t._v(" "),s("li",[t._v("获取所有的a标签的href\n"),s("ul",[s("li",[s("code",[t._v("//a/@href")])])])]),t._v(" "),s("li",[t._v("获取html下的head下的title的文本\n"),s("ul",[s("li",[s("code",[t._v("/html/head/title/text()")])])])]),t._v(" "),s("li",[t._v("获取html下的head下的link标签的href\n"),s("ul",[s("li",[s("code",[t._v("/html/head/link/@href")])])])])]),t._v(" "),s("p",[t._v("但是当我们需要选择所有的电影名称的时候会特别费力，通过下一小节的学习，就能够解决这个问题")]),t._v(" "),s("h5",{attrs:{id:"_6-2-查找特定的节点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-查找特定的节点"}},[t._v("#")]),t._v(" 6.2 查找特定的节点")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("路径表达式")]),t._v(" "),s("th",[t._v("结果")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v('//title[@lang="eng"]')]),t._v(" "),s("td",[t._v("选择lang属性值为eng的所有title元素")])]),t._v(" "),s("tr",[s("td",[t._v("/bookstore/book[1]")]),t._v(" "),s("td",[t._v("选取属于 bookstore 子元素的第一个 book 元素。")])]),t._v(" "),s("tr",[s("td",[t._v("/bookstore/book[last()]")]),t._v(" "),s("td",[t._v("选取属于 bookstore 子元素的最后一个 book 元素。")])]),t._v(" "),s("tr",[s("td",[t._v("/bookstore/book[last()-1]")]),t._v(" "),s("td",[t._v("选取属于 bookstore 子元素的倒数第二个 book 元素。")])]),t._v(" "),s("tr",[s("td",[t._v("/bookstore/book[position()>1]")]),t._v(" "),s("td",[t._v("选择bookstore下面的book元素，从第二个开始选择")])]),t._v(" "),s("tr",[s("td",[t._v("//book/title[text()='Harry Potter']")]),t._v(" "),s("td",[t._v("选择所有book下的title元素，仅仅选择文本为Harry Potter的title元素")])]),t._v(" "),s("tr",[s("td",[t._v("/bookstore/book[price>35.00]/title")]),t._v(" "),s("td",[t._v("选取 bookstore 元素中的 book 元素的所有 title 元素，且其中的 price 元素的值须大于 35.00。")])])])]),t._v(" "),s("p",[t._v("注意点: 在xpath中，第一个元素的位置是1，最后一个元素的位置是last(),倒数第二个是last()-1")]),t._v(" "),s("h5",{attrs:{id:"xpath基础语法练习2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xpath基础语法练习2"}},[t._v("#")]),t._v(" xpath基础语法练习2：")]),t._v(" "),s("blockquote",[s("p",[t._v("从豆瓣电影top250的页面中：选择所有的电影的名称，href，评分，评价人数")])]),t._v(" "),s("h5",{attrs:{id:"_6-3-选取未知节点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-选取未知节点"}},[t._v("#")]),t._v(" 6.3 选取未知节点")]),t._v(" "),s("p",[t._v("XPath 通配符可用来选取未知的 XML 元素。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("通配符")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("*")]),t._v(" "),s("td",[t._v("匹配任何元素节点。")])]),t._v(" "),s("tr",[s("td",[t._v("@*")]),t._v(" "),s("td",[t._v("匹配任何属性节点。")])]),t._v(" "),s("tr",[s("td",[t._v("node()")]),t._v(" "),s("td",[t._v("匹配任何类型的节点。")])])])]),t._v(" "),s("h5",{attrs:{id:"实例-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例-2"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),s("p",[t._v("在下面的表格中，我们列出了一些路径表达式，以及这些表达式的结果：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("路径表达式")]),t._v(" "),s("th",[t._v("结果")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("/bookstore/*")]),t._v(" "),s("td",[t._v("选取 bookstore 元素的所有子元素。")])]),t._v(" "),s("tr",[s("td",[t._v("//*")]),t._v(" "),s("td",[t._v("选取文档中的所有元素。")])]),t._v(" "),s("tr",[s("td",[t._v("//title[@*]")]),t._v(" "),s("td",[t._v("选取所有带有属性的 title 元素。")])])])]),t._v(" "),s("h5",{attrs:{id:"_6-3-选取若干路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-选取若干路径"}},[t._v("#")]),t._v(" 6.3 选取若干路径")]),t._v(" "),s("p",[t._v("通过在路径表达式中使用“|”运算符，您可以选取若干个路径。")]),t._v(" "),s("h5",{attrs:{id:"实例-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例-3"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),s("p",[t._v("在下面的表格中，我们列出了一些路径表达式，以及这些表达式的结果：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("路径表达式")]),t._v(" "),s("th",[t._v("结果")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("//book/title | //book/price")]),t._v(" "),s("td",[t._v("选取 book 元素的所有 title 和 price 元素。")])]),t._v(" "),s("tr",[s("td",[t._v("//title | //price")]),t._v(" "),s("td",[t._v("选取文档中的所有 title 和 price 元素。")])]),t._v(" "),s("tr",[s("td",[t._v("/bookstore/book/title | //price")]),t._v(" "),s("td",[t._v("选取属于 bookstore 元素的 book 元素的所有 title 元素，以及文档中所有的 price 元素。")])])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"小结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("xpath的概述XPath (XML Path Language),解析查找提取信息的语言")]),t._v(" "),s("li",[t._v("xml是和服务器交互的数据格式和json的作用一致")]),t._v(" "),s("li",[t._v("html是浏览器解析标签数据显示给用户")]),t._v(" "),s("li",[t._v("xpath的节点关系:根节点,子节点,父节点,兄弟节点,子节点,后代节点")]),t._v(" "),s("li",[t._v("xpath的重点语法获取任意节点:"),s("code",[t._v("//")])]),t._v(" "),s("li",[t._v("xpath的重点语法根据属性获取节点:"),s("code",[t._v("标签[@属性 = '值']")])]),t._v(" "),s("li",[t._v("xpath的获取节点属性值:"),s("code",[t._v("@属性值")])]),t._v(" "),s("li",[t._v("xpath的获取节点文本值:"),s("code",[t._v("text()")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);
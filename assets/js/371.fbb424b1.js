(window.webpackJsonp=window.webpackJsonp||[]).push([[371],{866:function(_,v,o){"use strict";o.r(v);var e=o(30),t=Object(e.a)({},(function(){var _=this,v=_.$createElement,o=_._self._c||v;return o("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[o("h2",{attrs:{id:"mongodb的备份恢复与导出导入"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb的备份恢复与导出导入"}},[_._v("#")]),_._v(" Mongodb的备份恢复与导出导入")]),_._v(" "),o("h5",{attrs:{id:"学习目标"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#学习目标"}},[_._v("#")]),_._v(" 学习目标")]),_._v(" "),o("ol",[o("li",[_._v("熟悉 mongodb备份与恢复命令")]),_._v(" "),o("li",[_._v("熟悉 mongodb导入与导出命令")])]),_._v(" "),o("hr"),_._v(" "),o("h3",{attrs:{id:"_1-备份"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-备份"}},[_._v("#")]),_._v(" 1 备份")]),_._v(" "),o("blockquote",[o("p",[_._v("保证数据库安全，主要用于灾难处理")])]),_._v(" "),o("p",[_._v("备份的语法："),o("code",[_._v("mongodump \\-h dbhost \\-d dbname \\-o dbdirectory")])]),_._v(" "),o("ul",[o("li",[o("code",[_._v("-h")]),_._v("： 服务器地址， 也可以指定端⼝号")]),_._v(" "),o("li",[o("code",[_._v("-d")]),_._v("： 需要备份的数据库名称")]),_._v(" "),o("li",[o("code",[_._v("-o")]),_._v("： 备份的数据存放位置， 此⽬录中存放着备份出来的数据")])]),_._v(" "),o("p",[_._v("示例："),o("code",[_._v("mongodump \\-h 192.168.196.128:27017 \\-d test1 \\-o ~/Desktop/test1bak")])]),_._v(" "),o("h3",{attrs:{id:"_2-恢复"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_2-恢复"}},[_._v("#")]),_._v(" 2 恢复")]),_._v(" "),o("p",[_._v("恢复语法："),o("code",[_._v("mongorestore \\-h dbhost \\-d dbname \\--dir dbdirectory")])]),_._v(" "),o("ul",[o("li",[o("code",[_._v("-h")]),_._v("： 服务器地址")]),_._v(" "),o("li",[o("code",[_._v("-d")]),_._v("： 需要恢复的数据库实例")]),_._v(" "),o("li",[o("code",[_._v("--dir")]),_._v("： 备份数据所在位置")])]),_._v(" "),o("p",[_._v("示例："),o("code",[_._v("mongorestore \\-h 192.168.196.128:27017 \\-d test2 \\--dir ~/Desktop/test1bak/test1")])]),_._v(" "),o("h3",{attrs:{id:"_3-导出"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-导出"}},[_._v("#")]),_._v(" 3 导出")]),_._v(" "),o("blockquote",[o("p",[_._v("用于和其他平台进行交互对接，将数据导出成指定格式文件进行使用，比如数据分析常用的csv文件 用于给非计算机行业的用户查看数据，对于他们来说csv文件(打开之后是电子表格)更方便")])]),_._v(" "),o("p",[_._v("导出语法: "),o("code",[_._v("mongoexport \\-h dbhost \\-d dbname \\-c colname \\-o filename \\--type json/csv \\-f field")])]),_._v(" "),o("ul",[o("li",[o("code",[_._v("-h")]),_._v(": 服务器地址")]),_._v(" "),o("li",[o("code",[_._v("-d")]),_._v(": 数据库名")]),_._v(" "),o("li",[o("code",[_._v("-c")]),_._v(": 集合名")]),_._v(" "),o("li",[o("code",[_._v("-o")]),_._v(": 导出文件名")]),_._v(" "),o("li",[o("code",[_._v("--type")]),_._v(": 文件类型，默认json格式，可选数据类型json，csv")]),_._v(" "),o("li",[o("code",[_._v("-f")]),_._v(": 需要导出的字段,导出为json格式的数据时可以不指定导出哪些字段，默认全部，导出成csv文件是必须指定")])]),_._v(" "),o("p",[_._v("示例："),o("code",[_._v("mongoexport \\-h 192.168.196.128:27017 \\-d test2 \\-c col1 \\-o test1_col1 [--type csv \\-f name,age,number]")])]),_._v(" "),o("h3",{attrs:{id:"_4-导入"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_4-导入"}},[_._v("#")]),_._v(" 4 导入")]),_._v(" "),o("p",[_._v("导出语法: "),o("code",[_._v("mongoimport \\-d dbname \\-c colname \\--file filename [--headerline \\--type json/csv \\-f field]")])]),_._v(" "),o("ul",[o("li",[o("code",[_._v("-h")]),_._v(": 服务器地址")]),_._v(" "),o("li",[o("code",[_._v("-d")]),_._v(": 数据库名")]),_._v(" "),o("li",[o("code",[_._v("-c")]),_._v(": 集合名")]),_._v(" "),o("li",[o("code",[_._v("-o")]),_._v(": 导出文件名")]),_._v(" "),o("li",[o("code",[_._v("--type")]),_._v(": 文件类型，默认json格式，可选数据类型json，csv")]),_._v(" "),o("li",[o("code",[_._v("-f")]),_._v(": 需要导出的字段,导出为json格式的数据时可以不指定导出哪些字段，默认全部，导出成csv文件是必须指定")])]),_._v(" "),o("p",[_._v("示例："),o("code",[_._v("mongoexport \\-h 192.168.196.128:27017 \\-d test2 \\-c col1 \\-o test1_col1 \\--type csv \\-f name,age,number")])]),_._v(" "),o("h3",{attrs:{id:"_5-动手"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_5-动手"}},[_._v("#")]),_._v(" 5 动手")]),_._v(" "),o("p",[_._v("尝试将同桌电脑中的xxx.xx中的数据恢复到自己的电脑中，具体如何操作？")]),_._v(" "),o("hr"),_._v(" "),o("h3",{attrs:{id:"小结"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[_._v("#")]),_._v(" 小结")]),_._v(" "),o("ol",[o("li",[_._v("掌握mongodb中数据的备份与恢复的方法")]),_._v(" "),o("li",[_._v("掌握mongodb中数据的导出与导入的方法")])])])}),[],!1,null,null,null);v.default=t.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[425],{920:function(s,t,a){"use strict";a.r(t);var n=a(30),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"ai前端工程工具链"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ai前端工程工具链"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#ai%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B7%A5%E5%85%B7%E9%93%BE"}},[s._v("#")]),s._v(" AI前端工程工具链")]),s._v(" "),a("p",[s._v("为了提高整体开发效率，需要定制一些vue/electron/官网等脚手架工具。首先要将一些代码规范考虑在内，需要保持git仓库的代码就像是一个人写出来的。根据团队习惯，考虑后使用组合工具：")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("规范提交代码（必需）")]),s._v("："),a("code",[s._v("eslint")]),s._v(" + "),a("code",[s._v("stylelint")]),s._v(" + "),a("code",[s._v("prettier")]),s._v(" + "),a("code",[s._v("husky")]),s._v(" + "),a("code",[s._v("lint-staged")]),s._v("。")]),s._v(" "),a("li",[a("strong",[s._v("规范commit日志（必需）")]),s._v("："),a("code",[s._v("commitlint")]),s._v(" + "),a("code",[s._v("commitizen")]),s._v(" + "),a("code",[s._v("cz-conventional-changelog")]),s._v(" + "),a("code",[s._v("conventional-changelog-cli")])]),s._v(" "),a("li",[a("strong",[s._v("规范提交流程（github项目）")]),s._v("："),a("code",[s._v("release-it")]),s._v(" + "),a("code",[s._v("gh-pages")]),s._v("。")]),s._v(" "),a("li",[a("strong",[s._v("辅助代码分析（可选）")]),s._v("："),a("code",[s._v("jsinspect")]),s._v(" + "),a("code",[s._v("jscpd")])])]),s._v(" "),a("h2",{attrs:{id:"_1-规范提交代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-规范提交代码"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_1-%E8%A7%84%E8%8C%83%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81"}},[s._v("#")]),s._v(" 1. 规范提交代码")]),s._v(" "),a("p",[s._v("针对写出符合团队代码规范的js、css代码")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("eslint")]),s._v(": 对js做规则约束。强制校验")]),s._v(" "),a("li",[a("strong",[s._v("stylelint")]),s._v(": 对css做规则约束")]),s._v(" "),a("li",[a("strong",[s._v("prettier")]),s._v(": 代码格式化。强制格式化")]),s._v(" "),a("li",[a("strong",[s._v("husky + "),a("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[s._v("lint-staged (opens new window)"),a("OutboundLink")],1)]),s._v("：本地git钩子工具")])]),s._v(" "),a("h3",{attrs:{id:"_1-1-eslint-opens-new-window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-eslint-opens-new-window"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_1-1-eslint"}},[s._v("#")]),s._v(" 1.1 "),a("a",{attrs:{href:"https://github.com/eslint/eslint",target:"_blank",rel:"noopener noreferrer"}},[s._v("eslint (opens new window)"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"_1-1-1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-安装"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_1-1-1-%E5%AE%89%E8%A3%85"}},[s._v("#")]),s._v(" 1.1.1 安装")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm install "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev eslint eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vue babel"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("eslint\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_1-1-2-eslintrc-js配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-eslintrc-js配置"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_1-1-2-eslintrc-js%E9%85%8D%E7%BD%AE"}},[s._v("#")]),s._v(" 1.1.2 "),a("code",[s._v(".eslintrc.js")]),s._v("配置")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("root")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定代码的运行环境。不同的运行环境，全局变量不一样")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("browser")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("node")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("parserOptions")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ESLint 默认使用Espree作为其解析器,安装了 babel-eslint 用来代替默认的解析器")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("parser")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-eslint'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使得不需要自行定义大量的规则")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// consider switching to `plugin:vue/strongly-recommended` or `plugin:vue/recommended` for stricter rules.")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'plugin:vue/essential'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 插件")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// add your custom rules here")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// allow async-await")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'generator-star-spacing'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'off'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// allow debugger during development")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'no-debugger'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'error'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'off'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'indent'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'SwitchCase'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("h4",{attrs:{id:"_1-1-3-提交前强制校验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-提交前强制校验"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_1-1-3-%E6%8F%90%E4%BA%A4%E5%89%8D%E5%BC%BA%E5%88%B6%E6%A0%A1%E9%AA%8C"}},[s._v("#")]),s._v(" 1.1.3 提交前强制校验")]),s._v(" "),a("p",[s._v("将约束命令放置在提交代码前检查，这就要使用"),a("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[s._v("husky (opens new window)"),a("OutboundLink")],1),s._v(" + "),a("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[s._v("lint-staged (opens new window)"),a("OutboundLink")],1),s._v("工具，工具能在提交代码precommit时调用钩子命令。")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm install husky lint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("staged "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"lint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --ext .js,.vue --ignore-path .gitignore ."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"gitHooks"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"pre-commit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"*.{js,vue,ts}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run lint"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TIP")]),s._v("\n\n如果是vue"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli3项目创建的项目，以上配置都自动生成了，直接执行vue"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("service lint即可。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_1-2-prettier-opens-new-window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-prettier-opens-new-window"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_1-2-prettier"}},[s._v("#")]),s._v(" 1.2 "),a("a",{attrs:{href:"https://github.com/prettier/prettier",target:"_blank",rel:"noopener noreferrer"}},[s._v("prettier (opens new window)"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"_1-2-1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-安装"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_1-2-1-%E5%AE%89%E8%A3%85"}},[s._v("#")]),s._v(" 1.2.1 安装")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm install "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev prettier\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_1-2-2-prettierrc-js配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-prettierrc-js配置"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_1-2-2-prettierrc-js%E9%85%8D%E7%BD%AE"}},[s._v("#")]),s._v(" 1.2.2. "),a("code",[s._v(".prettierrc.js")]),s._v("配置")]),s._v(" "),a("p",[s._v("以下感谢团队伙伴@Birttany的配置说明")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("printWidth")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置prettier单行输出（不折行）的（最大）长度")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("tabWidth")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置工具每一个水平缩进的空格数")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("useTabs")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用tab（制表位）缩进而非空格")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("semi")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在语句末尾添加分号")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("singleQuote")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用单引号而非双引号")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("trailingComma")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'none'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在任何可能的多行中输入尾逗号")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("bracketSpacing")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在对象字面量声明所使用的的花括号后（{）和前（}）输出空格")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("arrowParens")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'avoid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 为单行箭头函数的参数添加圆括号，参数个数为1时可以省略圆括号")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("parser")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babylon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定使用哪一种解析器")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("jsxBracketSameLine")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在多行JSX元素最后一行的末尾添加 > 而使 > 单独一行（不适用于自闭和元素）")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rangeStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 只格式化某个文件的一部分")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rangeEnd")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("Infinity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 只格式化某个文件的一部分")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filepath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'none'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定文件的输入路径，这将被用于解析器参照")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("requirePragma")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (v1.7.0+) Prettier可以严格按照按照文件顶部的一些特殊的注释格式化代码，这些注释称为“require pragma”(必须杂注)")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("insertPragma")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  (v1.8.0+) Prettier可以在文件的顶部插入一个 @format的特殊注释，以表明改文件已经被Prettier格式化过了。")]),s._v("\n    \n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("proseWrap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'preserve'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (v1.8.2+)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br")])]),a("h4",{attrs:{id:"_1-2-3-提交前强制格式化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-提交前强制格式化"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_1-2-3-%E6%8F%90%E4%BA%A4%E5%89%8D%E5%BC%BA%E5%88%B6%E6%A0%BC%E5%BC%8F%E5%8C%96"}},[s._v("#")]),s._v(" 1.2.3 提交前强制格式化")]),s._v(" "),a("p",[s._v("在提交git时需要对整个项目执行"),a("code",[s._v("format")]),s._v("格式化，使得代码强制统一。格式化之后再用"),a("code",[s._v("eslint")]),s._v("检查语法错误，无误后把格式化后的代码用"),a("code",[s._v("git add .")]),s._v("添加进入。如果有错误直接中断提交。")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"lint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --ext .js,.vue --ignore-path .gitignore ."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"gitHooks"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"pre-commit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"*.{js,vue,ts}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run lint"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"_1-3-stylelint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-stylelint"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_1-3-stylelint"}},[s._v("#")]),s._v(" 1.3 stylelint")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/lq782655835/blogs/issues/1",target:"_blank",rel:"noopener noreferrer"}},[s._v("参见另一篇博客 (opens new window)"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"_2-规范commit日志-必需"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-规范commit日志-必需"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-%E8%A7%84%E8%8C%83commit%E6%97%A5%E5%BF%97-%E5%BF%85%E9%9C%80"}},[s._v("#")]),s._v(" 2. 规范commit日志(必需)")]),s._v(" "),a("p",[s._v("在多人协作的项目中，如果Git的提交说明精准，在后期协作以及Bug处理时会变得有据可查，项目的开发可以根据规范的提交说明快速生成开发日志，从而方便开发者或用户追踪项目的开发信息和功能特性。")]),s._v(" "),a("p",[s._v("规范的Git提交说明:")]),s._v(" "),a("ul",[a("li",[s._v("提供更多的历史信息，方便快速浏览")]),s._v(" "),a("li",[s._v("可以过滤某些commit，便于筛选代码review")]),s._v(" "),a("li",[s._v("可以追踪commit生成更新日志")]),s._v(" "),a("li",[s._v("可以关联issues")])]),s._v(" "),a("p",[s._v("Git提交说明结构:")]),s._v(" "),a("p",[s._v("Git提交说明可分为三个部分：Header、Body和Footer。")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Header"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Body"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Footer"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("Header部分包括三个字段type（必需）、scope（可选）和subject（必需）。")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("scope"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("subject"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("type用于说明 commit 的提交性质。(Angular规范)")]),s._v(" "),a("ul",[a("li",[s._v("feat 新增一个功能")]),s._v(" "),a("li",[s._v("fix 修复一个Bug")]),s._v(" "),a("li",[s._v("docs 文档变更")]),s._v(" "),a("li",[s._v("style 代码格式（不影响功能，例如空格、分号等格式修正）")]),s._v(" "),a("li",[s._v("refactor 代码重构")]),s._v(" "),a("li",[s._v("perf 改善性能")]),s._v(" "),a("li",[s._v("test 测试")]),s._v(" "),a("li",[s._v("build 变更项目构建或外部依赖（例如scopes: webpack、gulp、npm等）")]),s._v(" "),a("li",[s._v("ci 更改持续集成软件的配置文件和package中的scripts命令，例如scopes: Travis, Circle等")]),s._v(" "),a("li",[s._v("chore 变更构建流程或辅助工具")]),s._v(" "),a("li",[s._v("revert 代码回退")])]),s._v(" "),a("h3",{attrs:{id:"_2-1-commitlint-opens-new-window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-commitlint-opens-new-window"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-1-commitlint"}},[s._v("#")]),s._v(" 2.1 "),a("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint",target:"_blank",rel:"noopener noreferrer"}},[s._v("commitlint (opens new window)"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("strong",[s._v("约定commit message提交的格式")]),s._v("。")]),s._v(" "),a("h4",{attrs:{id:"_2-1-1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-安装"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-1-1-%E5%AE%89%E8%A3%85"}},[s._v("#")]),s._v(" 2.1.1 安装")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm install "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev @commitlint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("conventional @commitlint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cli\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_2-1-2-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-配置"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-1-2-%E9%85%8D%E7%BD%AE"}},[s._v("#")]),s._v(" 2.1.2 配置")]),s._v(" "),a("p",[s._v("在根目录执行以下命令作为commitlint的配置")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    echo "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"module.exports = {extends: ['@commitlint/config-conventional']}\"")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" commitlint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_2-1-2-提交前校验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-提交前校验"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-1-2-%E6%8F%90%E4%BA%A4%E5%89%8D%E6%A0%A1%E9%AA%8C"}},[s._v("#")]),s._v(" 2.1.2 提交前校验")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"husky"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"hooks"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"commit-msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commitlint -E HUSKY_GIT_PARAMS"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"_2-2-commitizen-cz-conventional-changelog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-commitizen-cz-conventional-changelog"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-2-commitizen-cz-conventional-changelog"}},[s._v("#")]),s._v(" 2.2 commitizen cz-conventional-changelog")]),s._v(" "),a("p",[s._v("commitlint约定了提交的格式，但每次书写都需要记住那些约定，增加记忆负担。所以"),a("strong",[s._v("使用cz工具让提交commit过程更加可视化")]),s._v("。")]),s._v(" "),a("p",[s._v("commitizen/cz-cli是一个可以实现规范的提交说明的工具，提供选择的提交信息类别，快速生成提交说明。")]),s._v(" "),a("h4",{attrs:{id:"_2-2-1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-安装"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-2-1-%E5%AE%89%E8%A3%85"}},[s._v("#")]),s._v(" 2.2.1 安装")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm i commitizen cz"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("conventional"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("changelog "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_2-2-2-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-配置"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-2-2-%E9%85%8D%E7%BD%AE"}},[s._v("#")]),s._v(" 2.2.2 配置")]),s._v(" "),a("p",[s._v("使用cz-conventional-changelog适配器（介于AngularJS规范），约定提交代码时的选项。")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"config"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"commitizen"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./node_modules/cz-conventional-changelog"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"_2-2-3-命令执行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-命令执行"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-2-3-%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C"}},[s._v("#")]),s._v(" 2.2.3 命令执行")]),s._v(" "),a("p",[s._v("以后git commit都使用npm run commit（即git-cz）代替")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"commit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add -A && git-cz"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("commitlint + commitizen cz-conventional-changelog + conventional-changelog-cli")]),s._v(" "),a("h3",{attrs:{id:"_2-3-conventional-changelog-cli-opens-new-window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-conventional-changelog-cli-opens-new-window"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-3-conventional-changelog-cli"}},[s._v("#")]),s._v(" 2.3 "),a("a",{attrs:{href:"https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-cli",target:"_blank",rel:"noopener noreferrer"}},[s._v("conventional-changelog-cli (opens new window)"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("strong",[s._v("自动根据commit生成changelog")]),s._v("。")]),s._v(" "),a("p",[s._v("良好的changelog可以让用户一眼知道组件库的版本迭代演进，也是长期维护项目的必备内容。")]),s._v(" "),a("h4",{attrs:{id:"_2-3-1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-安装"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-3-1-%E5%AE%89%E8%A3%85"}},[s._v("#")]),s._v(" 2.3.1 安装")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm install conventional"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("changelog"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_2-3-2-命令执行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-命令执行"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_2-3-2-%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C"}},[s._v("#")]),s._v(" 2.3.2 命令执行")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"changelog"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"conventional-changelog -p angular -i CHANGELOG.md -s -r 0"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TIP")]),s._v("\n\n每次发布组件包版本后，即可使用npm run changelog命令，自动根据git commit生成日志。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_3-规范提交流程-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-规范提交流程-可选"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_3-%E8%A7%84%E8%8C%83%E6%8F%90%E4%BA%A4%E6%B5%81%E7%A8%8B-%E5%8F%AF%E9%80%89"}},[s._v("#")]),s._v(" 3. 规范提交流程（可选）")]),s._v(" "),a("p",[s._v("针对github + npm项目，可以简化流程。内部非开源项目可跳过该内容。")]),s._v(" "),a("ul",[a("li",[s._v("gh-pages（发布demo到github）")]),s._v(" "),a("li",[s._v("release-it/"),a("a",{attrs:{href:"https://github.com/conventional-changelog/standard-version",target:"_blank",rel:"noopener noreferrer"}},[s._v("standard-version (opens new window)"),a("OutboundLink")],1),s._v("（自动提交github代码 + 自动修改lib库版本 + 推送npm服务器）")])]),s._v(" "),a("h4",{attrs:{id:"_3-1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-安装"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_3-1-%E5%AE%89%E8%A3%85"}},[s._v("#")]),s._v(" 3.1 安装")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm i gh"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pages release"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("it "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_3-2-命令执行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-命令执行"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_3-2-%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C"}},[s._v("#")]),s._v(" 3.2 命令执行")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"release"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"release-it"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"release:docs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(' "npm run build'),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("docs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" gh"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pages "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d docs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vuepress"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dist\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"_4-辅助代码分析-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-辅助代码分析-可选"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_4-%E8%BE%85%E5%8A%A9%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90-%E5%8F%AF%E9%80%89"}},[s._v("#")]),s._v(" 4. 辅助代码分析（可选）")]),s._v(" "),a("p",[s._v("敏捷开发过程中，代码复查是至关重要的一环，团队需要使用工具辅助代码分析。经比较和实践后，使用工具："),a("code",[s._v("jsinspect")]),s._v(" + "),a("code",[s._v("jscpd")])]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("jsinspect")]),s._v(": 对js或jsx代码做重复检测。")]),s._v(" "),a("li",[a("strong",[s._v("jscpd")]),s._v(": 对代码重复率进行报告总结，辅助代码复查")])]),s._v(" "),a("h3",{attrs:{id:"_4-1-jsinspect-opens-new-window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-jsinspect-opens-new-window"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_4-1-jsinspect"}},[s._v("#")]),s._v(" 4.1 "),a("a",{attrs:{href:"https://github.com/danielstjules/jsinspect",target:"_blank",rel:"noopener noreferrer"}},[s._v("jsinspect (opens new window)"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"_4-1-1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-安装"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_4-1-1-%E5%AE%89%E8%A3%85"}},[s._v("#")]),s._v(" 4.1.1 安装")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm install jsinspect "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_4-1-2-提交前强制校验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-提交前强制校验"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_4-1-2-%E6%8F%90%E4%BA%A4%E5%89%8D%E5%BC%BA%E5%88%B6%E6%A0%A1%E9%AA%8C"}},[s._v("#")]),s._v(" 4.1.2 提交前强制校验")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"inspect"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jsinspect -t 50 ./src"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_4-2-jscpd-opens-new-window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-jscpd-opens-new-window"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_4-2-jscpd"}},[s._v("#")]),s._v(" 4.2 "),a("a",{attrs:{href:"https://github.com/kucherenko/jscpd",target:"_blank",rel:"noopener noreferrer"}},[s._v("jscpd (opens new window)"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"_4-2-1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-安装"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_4-2-1-%E5%AE%89%E8%A3%85"}},[s._v("#")]),s._v(" 4.2.1 安装")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm install jscpd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_4-2-2-代码复查辅助命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-代码复查辅助命令"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#_4-2-2-%E4%BB%A3%E7%A0%81%E5%A4%8D%E6%9F%A5%E8%BE%85%E5%8A%A9%E5%91%BD%E4%BB%A4"}},[s._v("#")]),s._v(" 4.2.2 代码复查辅助命令")]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"codereview"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jscpd ./src"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"#%E6%80%BB%E7%BB%93"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),a("ul",[a("li",[s._v("eslint + husky + lint-staged + prettier作为基础工具。")]),s._v(" "),a("li",[s._v("commitlint约束提交规范,commitizen让工具通过select选项，进行git commit, conventional-changelog-cli自动根据git commit生成changelog文件。")]),s._v(" "),a("li",[s._v("release-it核心是可以把包自动发送到npm上，gh-pages把指定目录发布到github gh-pages分支上。")])]),s._v(" "),a("p",[s._v("配置好以上工具，开发组件库时常用三个命令：")]),s._v(" "),a("ul",[a("li",[s._v('平时开发提交commit： npm run commit "commit": "git add -A && git-cz",')]),s._v(" "),a("li",[s._v('发布npm包: npm publish "prepublish": "npm run build && release-it && npm run changelog",')]),s._v(" "),a("li",[s._v('发布docs: npm run docs "release:docs": "npm run build:docs && gh-pages -d docs/.vuepress/dist",')])]),s._v(" "),a("p",[s._v("以下示例个实际github项目配置: "),a("a",{attrs:{href:"https://github.com/lq782655835/yi-ui",target:"_blank",rel:"noopener noreferrer"}},[s._v("lq782655835/yi-ui (opens new window)"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-JS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"commit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add -A && git-cz"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"changelog"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"conventional-changelog -p angular -i CHANGELOG.md -s -r 0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"release"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"release-it"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"lint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-cli-service lint"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"husky"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"hooks"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"pre-commit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"commit-msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commitlint -E HUSKY_GIT_PARAMS"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"packages/**/*.{vue,ts,tsx,js,jsx,json}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run lint"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"config"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"commitizen"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./node_modules/cz-conventional-changelog"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);